{"version":3,"sources":["webpack:///../ketchup/dist/esm/legacy/kup-tooltip.entry.js"],"names":["KupTooltip","hostRef","registerInstance","this","layout","visible","detailVisible","tooltipPosition","kupTooltipLoadDetailTriggered","kupTooltipLoadDetail","createEvent","prototype","onDataChanged","hasData","detailData","rows","resetTimeouts","tooltipTimeout","clearTimeout","loadDetailTimeout","loadDetail","emit","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_object_define_property__WEBPACK_IMPORTED_MODULE_1___default","get","enumerable","configurable","onMouseOver","_this","setTimeout","rect","wrapperEl","getBoundingClientRect","window","innerHeight","bottom","height","top","innerWidth","left","right","onMouseLeave","getDefaultLayout","h","class","name","getLayout2","getLayout3","createTooltip","mainContent","mainContentClass","detailContent","map","row","cells","value","detailClass","tooltipStyle","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default","id","hidden","style","render","bind","ref","el","getElement"],"mappings":"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","file":"js/chunk-2d0b6386.1d10c18d.js","sourcesContent":["import { r as registerInstance, c as createEvent, h, g as getElement } from './chunk-1851c479.js';\nvar KupTooltip = /** @class */ (function () {\n    function KupTooltip(hostRef) {\n        registerInstance(this, hostRef);\n        /**\n         * Layout used to display the items\n         */\n        this.layout = '1';\n        this.visible = false;\n        this.detailVisible = false;\n        // ---- Non reactive ----\n        this.tooltipPosition = {};\n        // check if the event kupTooltipLoadDetail was triggered\n        this.kupTooltipLoadDetailTriggered = false;\n        this.kupTooltipLoadDetail = createEvent(this, \"kupTooltipLoadDetail\", 6);\n    }\n    KupTooltip.prototype.onDataChanged = function () {\n        this.detailVisible = true;\n    };\n    // ---- Private methods ----\n    KupTooltip.prototype.hasData = function () {\n        return !!this.detailData && !!this.detailData.rows;\n    };\n    KupTooltip.prototype.resetTimeouts = function () {\n        if (this.tooltipTimeout) {\n            clearTimeout(this.tooltipTimeout);\n            this.tooltipTimeout = null;\n        }\n        if (this.loadDetailTimeout) {\n            clearTimeout(this.loadDetailTimeout);\n            this.loadDetailTimeout = null;\n        }\n    };\n    KupTooltip.prototype.loadDetail = function () {\n        this.loadDetailTimeout = null;\n        this.kupTooltipLoadDetail.emit();\n        this.kupTooltipLoadDetailTriggered = true;\n    };\n    Object.defineProperty(KupTooltip.prototype, \"rows\", {\n        get: function () {\n            return this.hasData() ? this.detailData.rows : [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // ---- Listeners ----\n    KupTooltip.prototype.onMouseOver = function () {\n        var _this = this;\n        if (!this.tooltipTimeout) {\n            this.tooltipTimeout = setTimeout(function () {\n                _this.tooltipTimeout = null;\n                // resetting position\n                _this.tooltipPosition = {};\n                var rect = _this.wrapperEl.getBoundingClientRect();\n                // vertical position\n                if (window.innerHeight - rect.bottom < 150) {\n                    _this.tooltipPosition.bottom = rect.height + 3 + \"px\";\n                }\n                else {\n                    _this.tooltipPosition.top = rect.height + \"px\";\n                }\n                // horizontal position\n                if (window.innerWidth - rect.left < 350) {\n                    // 350 is the min-width of the tooltip\n                    _this.tooltipPosition.right = \"0\";\n                }\n                else {\n                    _this.tooltipPosition.left = \"0\";\n                }\n                _this.visible = true;\n                if (!_this.kupTooltipLoadDetailTriggered) {\n                    // timeout to load detail\n                    _this.loadDetailTimeout = setTimeout(function () { return _this.loadDetail(); }, 250);\n                }\n                else {\n                    // timeout to set the detail visible\n                    _this.loadDetailTimeout = setTimeout(function () { return (_this.detailVisible = true); }, 250);\n                }\n            }, 500);\n        }\n    };\n    KupTooltip.prototype.onMouseLeave = function () {\n        this.resetTimeouts();\n        this.visible = false;\n        this.detailVisible = false;\n    };\n    // ---- Render methods ----\n    KupTooltip.prototype.getDefaultLayout = function () {\n        return [\n            h(\"div\", { class: \"left\" }, h(\"slot\", { name: \"slot1\" })),\n            h(\"div\", { class: \"right\" }, h(\"div\", null, h(\"slot\", { name: \"slot2\" })), h(\"div\", { class: \"slot3\" }, h(\"slot\", { name: \"slot3\" })), h(\"div\", null, h(\"slot\", { name: \"slot4\" }))),\n        ];\n    };\n    KupTooltip.prototype.getLayout2 = function () {\n        return (h(\"div\", null, h(\"slot\", { name: \"slot1\" })));\n    };\n    KupTooltip.prototype.getLayout3 = function () {\n        return [\n            h(\"div\", { class: \"slot1\" }, h(\"slot\", { name: \"slot1\" })),\n            h(\"div\", { class: \"slot2\" }, h(\"slot\", { name: \"slot2\" })),\n            h(\"div\", { class: \"slot3\" }, h(\"slot\", { name: \"slot3\" })),\n        ];\n    };\n    KupTooltip.prototype.createTooltip = function () {\n        var mainContent = null;\n        var mainContentClass = {};\n        if (this.layout === '2') {\n            mainContent = this.getLayout2();\n            mainContentClass['layout2'] = true;\n        }\n        else if (this.layout === '3') {\n            mainContent = this.getLayout3();\n            mainContentClass['layout3'] = true;\n        }\n        else {\n            mainContent = this.getDefaultLayout();\n        }\n        var detailContent = null;\n        if (this.hasData()) {\n            detailContent = this.rows.map(function (row) { return (h(\"div\", { class: \"detail-row\" }, h(\"div\", { class: \"detail-row__label\" }, row.cells['label'].value), h(\"div\", { class: \"detail-row__value\" }, row.cells['value'].value))); });\n        }\n        var detailClass = {\n            visible: this.detailVisible && this.hasData(),\n        };\n        var tooltipStyle = Object.assign({}, this.tooltipPosition);\n        return (h(\"div\", { id: \"tooltip\", hidden: !this.visible, style: tooltipStyle }, h(\"div\", { id: \"main-content\", class: mainContentClass }, mainContent), h(\"div\", { id: \"detail\", class: detailClass }, detailContent)));\n    };\n    KupTooltip.prototype.render = function () {\n        var _this = this;\n        return (h(\"div\", { id: \"wrapper\", onMouseOver: this.onMouseOver.bind(this), onMouseLeave: this.onMouseLeave.bind(this), ref: function (el) { return (_this.wrapperEl = el); } }, h(\"slot\", null), this.createTooltip()));\n    };\n    Object.defineProperty(KupTooltip.prototype, \"tooltipEl\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KupTooltip, \"watchers\", {\n        get: function () {\n            return {\n                \"detailData\": [\"onDataChanged\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KupTooltip, \"style\", {\n        get: function () { return \":host{--tlt_background:var(--kup-tlt_background,#fff);--tlt_detail-lbl-color:var(--kup-detail-lbl-color,#888);--tlt_shadow:var(--kup-tlt_shadow,0px 0px 7.5px 0px hsla(0,0%,50.2%,0.5))}:host #wrapper{position:relative;display:inline-block}:host #wrapper #tooltip{position:absolute;background:var(--tlt_background);z-index:1000;-webkit-box-shadow:var(--tlt_shadow);box-shadow:var(--tlt_shadow);border-radius:3px;min-width:350px}:host #wrapper #tooltip #main-content{margin:20px;display:-ms-flexbox;display:flex}:host #wrapper #tooltip #main-content .left{width:75px;margin-right:15px}:host #wrapper #tooltip #main-content .right{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between}:host #wrapper #tooltip #main-content.layout2{-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}:host #wrapper #tooltip #main-content.layout3{-ms-flex-direction:column;flex-direction:column}:host #wrapper #tooltip #main-content.layout3>div:not(:last-child){margin-bottom:6px}:host #wrapper #tooltip #detail:not(.visible){max-height:0;opacity:0;-webkit-transition:max-height .5s ease-out,opacity .5s ease-out;transition:max-height .5s ease-out,opacity .5s ease-out}:host #wrapper #tooltip #detail.visible{border-top:1px solid #ccc;padding:20px;max-height:500px;opacity:1;-webkit-transition:max-height .5s ease-in,opacity .5s ease-in;transition:max-height .5s ease-in,opacity .5s ease-in}:host #wrapper #tooltip #detail .detail-row{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host #wrapper #tooltip #detail .detail-row:not(:last-child){margin-bottom:6px}:host #wrapper #tooltip #detail .detail-row__label{color:var(--tlt_detail-lbl-color)}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return KupTooltip;\n}());\nexport { KupTooltip as kup_tooltip };\n"],"sourceRoot":""}