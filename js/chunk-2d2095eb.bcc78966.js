(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2095eb"],{a985:function(t,e,i){"use strict";i.r(e),i.d(e,"kup_chart",function(){return p});var a,r,o=i("85f2"),n=i.n(o),s=(i("6b54"),i("ac6a"),i("7f7f"),i("0b36")),h=(i("31a7"),i("8956"));function l(t){return t.obj?Object(h["r"])(t.obj.k).value():Object(h["r"])(t.value).value()}function c(t){var e="YYYYMMDD";if(t.obj){var i=t.obj;return"D8"===i.t&&"*DMYY"===i.p&&(e="DDMMYYYY"),Object(h["q"])(t.obj.k,e)}return Object(h["q"])(t.value,"DD/MM/YYYY")}function u(t,e){for(var i=0;i<e.length;i++){var a=e[i];if(t===a.name)return a}return null}(function(t){t["Area"]="Area",t["Bubble"]="Bubble",t["Cal"]="Cal",t["Candlestick"]="Candlestick",t["Combo"]="Combo",t["Geo"]="Geo",t["Hbar"]="Hbar",t["Line"]="Line",t["Ohlc"]="Ohlc",t["Pie"]="Pie",t["Sankey"]="Sankey",t["Scatter"]="Scatter",t["Unk"]="Unk",t["Vbar"]="Vbar"})(a||(a={})),function(t){t["D2"]="2D",t["D3"]="3D"}(r||(r={}));var g=function(t,e){var i=e.series,a=e.axis;if(!t||!i)return[];var r=[],o=u(a,t.columns);return o&&r.push(o),i.map(function(e){var i=u(e,t.columns);i&&r.push(i)}),r},C=function(t,e,i){if(!t)return[];var a=[];return t.rows&&t.rows.forEach(function(t){var r=t.cells,o=[];e.forEach(function(t,e){var a=r[t.name];if(a&&a.obj){var n=i&&e>0;if(Object(h["m"])(a.obj)){var s=l(a);o.push(s),n&&o.push(s.toString())}else if(Object(h["e"])(a.obj)){s=c(a).toDate();o.push(s),n&&o.push(s.toString())}else o.push(a.obj.k),n&&o.push(a.value)}}),a.push(o)}),a},p=function(){function t(t){Object(s["g"])(this,t),this.types=[a.Hbar],this.colors=[],this.legend=!0,this.stacked=!1,this.showMarks=!1,this.version="45.2",this.kupChartClicked=Object(s["d"])(this,"kupChartClicked",6)}return t.prototype.componentDidLoad=function(){var t=this;if(this.axis&&this.series&&google){document.querySelectorAll('link[href^="https://www.gstatic.com/charts/'+this.version+'/css"]').forEach(function(e){return t.el.shadowRoot.appendChild(e.cloneNode())});try{this.loadGoogleChart()}catch(e){console.error(e)}}},t.prototype.componentWillUpdate=function(){this.gChart&&this.gChart.clearChart()},t.prototype.componentDidUpdate=function(){this.loadGoogleChart()},t.prototype.loadGoogleChart=function(){google.charts.setOnLoadCallback(this.createChart.bind(this))},t.prototype.createGoogleChart=function(){if(this.isComboChart())return new google.visualization.ComboChart(this.chartContainer);if(1===this.types.length)switch(this.types[0]){case a.Area:return new google.visualization.AreaChart(this.chartContainer);case a.Bubble:return new google.visualization.BubbleChart(this.chartContainer);case a.Cal:return new google.visualization.Calendar(this.chartContainer);case a.Candlestick:return new google.visualization.CandlestickChart(this.chartContainer);case a.Geo:return new google.visualization.GeoChart(this.chartContainer);case a.Hbar:return new google.visualization.BarChart(this.chartContainer);case a.Line:return new google.visualization.LineChart(this.chartContainer);case a.Pie:return new google.visualization.PieChart(this.chartContainer);case a.Sankey:return new google.visualization.Sankey(this.chartContainer);case a.Scatter:return new google.visualization.ScatterChart(this.chartContainer);default:return new google.visualization.ColumnChart(this.chartContainer)}},t.prototype.getMainChartType=function(){return this.types.length>0?this.types[0]:a.Unk},t.prototype.isComboChart=function(){return this.types.length>1},t.prototype.createGoogleChartOptions=function(){var t={is3D:r.D3===this.asp};return this.colors&&this.colors.length>0&&(t.colors=this.colors),this.width&&(t.width=this.width),this.height&&(t.height=this.height),this.legend||(t.legend={position:"none"}),!this.stacked||a.Hbar!==this.getMainChartType()&&a.Vbar!==this.getMainChartType()||(t.isStacked=!0),this.graphTitle&&(t.title=this.graphTitle,t.titleTextStyle={},this.graphTitleColor&&(t.titleTextStyle.color=this.graphTitleColor),this.graphTitleSize&&(t.titleTextStyle.fontSize=this.graphTitleSize)),this.isComboChart()&&(t.series={},this.types.forEach(function(e,i){var r="bars";a.Line===e?r="line":a.Area===e&&(r="area"),t.series[i.toString()]={type:r}})),t},t.prototype.createChart=function(){for(var t=g(this.data,{axis:this.axis,series:this.series}),e=C(this.data,t,this.showMarks),i=[],a=0;a<t.length;a++){var r=t[a];i.push({label:r.name}),a>0&&this.showMarks&&i.push({type:"string",role:"annotation"})}this.gChartDataTable=new google.visualization.arrayToDataTable([i].concat(e)),this.gChartView=new google.visualization.DataView(this.gChartDataTable),this.gChart=this.createGoogleChart();var o=this.createGoogleChartOptions();this.gChart.draw(this.gChartView,o),google.visualization.events.addListener(this.gChart,"select",this.onChartSelect.bind(this))},t.prototype.onChartSelect=function(){var t=this.gChart.getSelection()[0];if(t){var e={};if(t.date){if(e.datetime=t.date,!t.row&&0!=t.row)return;var i=this.gChartView.getTableRowIndex(t.row);e.row=this.data.rows[i]}else{i=t.row;var a=t.column,r=this.gChartView.getTableRowIndex(null!=i?i:0);if(e.row=this.data.rows[r],this.series.length>1){var o=this.gChartView.getTableColumnIndex(null!=a?a:0);"annotation"===this.gChartDataTable.getColumnProperty(o,"role")&&--o,e.column=Object(h["k"])(this.data.columns,this.series[o-1])}else e.column=Object(h["k"])(this.data.columns,this.series[0])}this.kupChartClicked.emit(e)}},t.prototype.render=function(){var t=this;return Object(s["f"])("div",{id:"chart",ref:function(e){return t.chartContainer=e}})},n()(t.prototype,"el",{get:function(){return Object(s["e"])(this)},enumerable:!0,configurable:!0}),t}()}}]);
//# sourceMappingURL=chunk-2d2095eb.bcc78966.js.map