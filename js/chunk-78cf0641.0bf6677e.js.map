{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///../ketchup/dist/esm/legacy/kup-data-table.entry.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js"],"names":["$export","__webpack_require__","$find","KEY","forced","Array","P","F","findIndex","callbackfn","this","arguments","length","undefined","__awaiter","thisArg","_arguments","generator","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_14___default","a","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_symbol__WEBPACK_IMPORTED_MODULE_13___default","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_symbol_iterator__WEBPACK_IMPORTED_MODULE_12___default","n","v","op","TypeError","call","pop","push","KupDataTable","hostRef","registerInstance","columnsWidth","enableSortableColumns","expandGroups","filters","globalFilter","groups","headerIsPersistent","multiSelection","loadMoreLimit","loadMoreStep","loadMoreMode","LoadMoreMode","PROGRESSIVE_THRESHOLD","paginatorPos","PaginatorPos","TOP","rowsPerPage","showHeader","showFilters","showGrid","ShowGrid","COMPLETE","showLoadMore","sortEnabled","sort","sortableColumnsMutateData","globalFilterValue","currentPage","currentRowsPerPage","selectedRows","groupState","openedMenu","density","renderedRows","loadMoreEventCounter","loadMoreEventPreviousQuantity","columnsAreBeingDragged","dragFlagAttribute","dragOverAttribute","dragStarterAttribute","kupAutoRowSelect","createEvent","kupRowSelected","kupOptionClicked","kupAddColumn","kupRowActionClicked","kupLoadMoreClicked","kupCellButtonClicked","kupDataTableSortedColumn","prototype","rowsPerPageHandler","newValue","expandGroupsHandler","forceGroupExpansion","recalculateRows","initRows","componentWillLoad","componentDidLoad","selectRow","emit","selectedRow","getColumns","data","columns","title","name","size","getVisibleColumns","_this","visibleColumns","filter","column","hasOwnProperty","visible","isGrouping","group","_i","_a","currentGroup","getGroupByName","getRows","rows","filterRows","footer","calcTotals","totals","groupRows","sortRows","paginatedRows","paginateRows","map","c","hasRowActions","rowActions","removeGroup","index","indexOf","splice","slice","hasTotals","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_10___default","forEach","row","forceRowGroupExpansion","expanded","id","children","childRow","onColumnSort","columnName","ctrlKey","i","sortObj","newSortObj","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_7___default","sortMode","SortMode","A","D","newSort","concat","onFilterChange","detail","newFilters","onGlobalFilterChange","handlePageChanged","newPage","handleRowsPerPageChanged","newRowsPerPage","onRowClick","event","handleRowSelect","target","clickedColumn","HTMLElement","tagName","currentElement","parentElement","dataset","onDefaultRowActionClick","action","type","stopPropagation","onRowActionExpanderClick","onRowCheckboxSelection","checked","onRowExpand","onSelectAll","onColumnMouseEnter","columnOverTimeout","setTimeout","onColumnMouseLeave","clearTimeout","switchColumnGroup","onOptionClicked","onJ4btnClicked","cell","buttonEvent","adjustGroupState","onLoadMoreClick","loadItems","CONSTANT","CONSTANT_INCREMENT","Math","max","min","r","adjustGroupStateFromRow","groupFromState","child","start","getSortIcon","calculateColspan","colSpan","isGroupExpanded","styleHasBorderRadius","style","borderRadius","handleColumnSort","receivingColumn","sortedColumn","receivingColIndex","col","sortedColIndex","moveSortedColumns","receivingColumnIndex","sortedColumnIndex","remove","defaultSortingFunction","useNewObject","toSort","renderHeader","hasCustomColumnsWidth","dataColumns","filterValue","h","class","initialValue","data-col","onKetchupTextInputUpdated","onMouseEnter","onMouseLeave","role","aria-label","onClick","thStyle","currentCol","width","toString","minWidth","maxWidth","columnMenuItems","groupLabel","columnMenu","menuClass","dragHandlers","draggable","onDragStart","dataTransfer","setData","KupDataTableColumnDragType","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default","effectAllowed","setAttribute","theadRef","onDragLeave","types","removeAttribute","onDragOver","overElement","hasAttribute","preventDefault","onDragEnd","dragStarter","onDrop","transferredData","JSON","parse","getData","multiSelectColumn","margin","onChange","groupColumn","actionsColumn","renderFooter","footerCells","selectRowCell","groupingCell","renderRow","level","previousRow","icon","jsxRows_1","indent","cells","visibleColumns_1","groupRowIndex","currentArray","jsxRow","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3___default","jr","currentColumn","hideValuesRepetitions","indend","options","jsxCell","renderCell","cellClass","number","isNumber","obj","cellStyle","data-column","includes","rowActionsCell","defaultRowActions","renderActions","rowActionExpander","variableActions","actions","aria-pressed","rowClass","selected","text","cellData","previousRowCellValue","clazz","cell-content","valueToDisplay","content","isIcon","isVoCodver","cellValue","numeral","k","isImage","src","alt","height","isLink","href","isCheckbox","disabled","readOnly","isButton","createJ4objButtonConfig","onKupButtonClicked","bind","isBar","props","renderLoadMoreButton","isSlotted","slot","tabindex","render","rowIndex","header","paginatorTop","BOTH","perPage","selectedPerPage","onKupPageChanged","onKupRowsPerPageChanged","paginatorBottom","BOTTOM","groupChips","chips","getColumnByName","closable","onClose","densityPanel","active","iconClass","tableClass","column-separation","COL","row-separation","ROW","persistent-header","hidden","ref","el","_home_francesco_Work_javascript_ketchup_packages_ketchup_showcase_node_modules_babel_runtime_corejs2_core_js_object_define_property__WEBPACK_IMPORTED_MODULE_0___default","get","enumerable","configurable","core","$JSON","stringify","module","exports","it"],"mappings":"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","file":"js/chunk-78cf0641.0bf6677e.js","sourcesContent":["'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, c as createEvent, h } from './chunk-1851c479.js';\nimport './chunk-d8060b98.js';\nimport { L as LoadMoreMode, P as PaginatorPos, h as ShowGrid, j as calcTotals, f as filterRows, S as SortMode, k as groupRows, s as sortRows, l as isIcon, o as isVoCodver, i as isNumber, n as numeral, b as isImage, p as isLink, q as isCheckbox, c as isButton, d as createJ4objButtonConfig, r as isBar, g as getColumnByName, K as KupDataTableColumnDragType } from './chunk-67fad384.js';\nvar KupDataTable = /** @class */ (function () {\n    function KupDataTable(hostRef) {\n        registerInstance(this, hostRef);\n        this.columnsWidth = [];\n        /**\n         * Enables sorting of the columns by dragging them into different columns\n         */\n        this.enableSortableColumns = false;\n        this.expandGroups = false;\n        this.filters = {};\n        this.globalFilter = false;\n        this.groups = [];\n        /**\n         * If table header is visible and this prop is set to true, the header will be visible while scrolling the table.\n         * To make this work, it must be configured together with the data-table CSS property --kup-data-table_header-offset.\n         * It uses CSS position: sticky.\n         * @version 1.0\n         * @namespace KupDataTable.headerIsPersistent\n         * @see KupDataTable.showHeader\n         * @see https://caniuse.com/#feat=css-sticky\n         */\n        this.headerIsPersistent = false;\n        this.multiSelection = false;\n        /**\n         * Sets a maximum limit of new records which can be required by the load more functionality.\n         */\n        this.loadMoreLimit = 1000;\n        /**\n         * The number of records which will be requested to be downloaded when clicking on the load more button.\n         *\n         * This property is regulated also by loadMoreMode.\n         * @see loadMoreMode\n         * @see loadMoreLimit\n         */\n        this.loadMoreStep = 60;\n        /**\n         * Establish the modality of how many new records will be downloaded.\n         *\n         * This property is regulated also by loadMoreStep.\n         * @see loadMoreStep\n         * @see loadMoreLimit\n         */\n        this.loadMoreMode = LoadMoreMode.PROGRESSIVE_THRESHOLD;\n        this.paginatorPos = PaginatorPos.TOP;\n        this.rowsPerPage = 10;\n        /**\n         * Enables rendering of the table header.\n         * @namespace KupDataTable.showHeader\n         */\n        this.showHeader = true;\n        this.showFilters = false;\n        this.showGrid = ShowGrid.COMPLETE;\n        /**\n         * If set to true, displays the button to load more records.\n         */\n        this.showLoadMore = false;\n        this.sortEnabled = true;\n        this.sort = [];\n        /**\n         * If set to true, when a column is dragged to be sorted the component directly mutates the data.columns property\n         * and then fires the event\n         */\n        this.sortableColumnsMutateData = true;\n        //---- State ----\n        this.globalFilterValue = '';\n        this.currentPage = 1;\n        this.currentRowsPerPage = 10;\n        this.selectedRows = [];\n        this.groupState = {};\n        /**\n         * name of the column with an open menu\n         */\n        this.openedMenu = null;\n        this.density = 'medium';\n        this.renderedRows = [];\n        this.loadMoreEventCounter = 0;\n        this.loadMoreEventPreviousQuantity = 0;\n        /**\n         * Internal not reactive state used to keep track if a column is being dragged.\n         * @private\n         */\n        this.columnsAreBeingDragged = false;\n        /**\n         * Attribute to set when a column is being dragged on the whole thead element\n         * @const\n         * @default 'columns-dragging'\n         * @private\n         */\n        this.dragFlagAttribute = 'columns-dragging';\n        /**\n         * The string representing the drag over attribute\n         * @const\n         * @default 'drag-over'\n         * @private\n         */\n        this.dragOverAttribute = 'drag-over';\n        /**\n         * The string representing the drag starter attribute to set onto the element\n         * @const\n         * @default 'drag-starter'\n         * @private\n         */\n        this.dragStarterAttribute = 'drag-starter';\n        this.kupAutoRowSelect = createEvent(this, \"kupAutoRowSelect\", 6);\n        this.kupRowSelected = createEvent(this, \"kupRowSelected\", 6);\n        this.kupOptionClicked = createEvent(this, \"kupOptionClicked\", 6);\n        this.kupAddColumn = createEvent(this, \"kupAddColumn\", 6);\n        this.kupRowActionClicked = createEvent(this, \"kupRowActionClicked\", 6);\n        this.kupLoadMoreClicked = createEvent(this, \"kupLoadMoreClicked\", 6);\n        this.kupCellButtonClicked = createEvent(this, \"kupCellButtonClicked\", 6);\n        this.kupDataTableSortedColumn = createEvent(this, \"kupDataTableSortedColumn\", 6);\n    }\n    KupDataTable.prototype.rowsPerPageHandler = function (newValue) {\n        this.currentRowsPerPage = newValue;\n    };\n    KupDataTable.prototype.expandGroupsHandler = function () {\n        // reset group state\n        this.groupState = {};\n        this.forceGroupExpansion();\n    };\n    KupDataTable.prototype.recalculateRows = function () {\n        this.initRows();\n    };\n    // private theadObserver = new IntersectionObserver(\n    //     (entries) => {\n    //         entries.forEach((entry) => {\n    //             if (entry.intersectionRatio === 1) {\n    //                 // fully visible\n    //                 console.log('fully visible', entry.target);\n    //             } else if (entry.intersectionRatio === 0) {\n    //                 // hidden\n    //                 console.log('hidden', entry.target);\n    //             }\n    //         });\n    //     },\n    //     {\n    //         threshold: [0, 0.5, 1],\n    //         rootMargin: '-100px 0px 0px 0px',\n    //     }\n    // );\n    // lifecycle\n    KupDataTable.prototype.componentWillLoad = function () {\n        this.rowsPerPageHandler(this.rowsPerPage);\n        this.initRows();\n        if (this.expandGroups) {\n            this.forceGroupExpansion();\n        }\n    };\n    KupDataTable.prototype.componentDidLoad = function () {\n        // observing table\n        // this.theadObserver.observe(this.theadRef);\n        // automatic row selection\n        if (this.selectRow && this.selectRow > 0) {\n            if (this.selectRow <= this.renderedRows.length) {\n                this.selectedRows = [];\n                this.selectedRows.push(this.renderedRows[this.selectRow - 1]);\n                this.kupAutoRowSelect.emit({\n                    selectedRow: this.selectedRows[0],\n                });\n            }\n        }\n    };\n    KupDataTable.prototype.getColumns = function () {\n        return this.data && this.data.columns\n            ? this.data.columns\n            : [{ title: '', name: '', size: 0 }];\n    };\n    KupDataTable.prototype.getVisibleColumns = function () {\n        var _this = this;\n        var visibleColumns = this.getColumns().filter(function (column) {\n            if (column.hasOwnProperty('visible')) {\n                return column.visible;\n            }\n            return true;\n        });\n        // check grouping\n        if (this.isGrouping()) {\n            // filtering column based on group visibility\n            return visibleColumns.filter(function (column) {\n                // check if in group\n                var group = null;\n                for (var _i = 0, _a = _this.groups; _i < _a.length; _i++) {\n                    var currentGroup = _a[_i];\n                    if (currentGroup.column === column.name) {\n                        group = currentGroup;\n                        break;\n                    }\n                }\n                if (group) {\n                    // return true if\n                    // 1) group obj has not the 'visible' property or\n                    // 2) group has 'visible' property and it is true\n                    return !group.hasOwnProperty('visible') || group.visible;\n                }\n                // not in group -> visible\n                return true;\n            });\n        }\n        return visibleColumns;\n    };\n    KupDataTable.prototype.getGroupByName = function (column) {\n        if (!this.isGrouping()) {\n            return null;\n        }\n        for (var _i = 0, _a = this.groups; _i < _a.length; _i++) {\n            var group = _a[_i];\n            if (group.column === column) {\n                return group;\n            }\n        }\n        return null;\n    };\n    KupDataTable.prototype.getRows = function () {\n        return this.data && this.data.rows ? this.data.rows : [];\n    };\n    KupDataTable.prototype.initRows = function () {\n        this.filterRows();\n        this.footer = calcTotals(this.rows, this.totals);\n        this.groupRows();\n        this.sortRows();\n        this.paginatedRows = this.paginateRows(this.rows);\n    };\n    KupDataTable.prototype.filterRows = function () {\n        this.rows = filterRows(this.getRows(), this.filters, this.globalFilterValue, this.getVisibleColumns().map(function (c) { return c.name; }));\n    };\n    KupDataTable.prototype.isGrouping = function () {\n        return this.groups && this.groups.length > 0;\n    };\n    KupDataTable.prototype.hasRowActions = function () {\n        return this.rowActions !== undefined;\n    };\n    KupDataTable.prototype.removeGroup = function (group) {\n        // resetting group state\n        this.groupState = {};\n        var index = this.groups.indexOf(group);\n        if (index >= 0) {\n            // removing group from prop\n            this.groups.splice(index, 1);\n            this.groups = this.groups.slice();\n        }\n    };\n    KupDataTable.prototype.hasTotals = function () {\n        return this.totals && Object.keys(this.totals).length > 0;\n    };\n    KupDataTable.prototype.forceGroupExpansion = function () {\n        var _this = this;\n        this.rows.forEach(function (row) { return _this.forceRowGroupExpansion(row); });\n    };\n    KupDataTable.prototype.forceRowGroupExpansion = function (row) {\n        var _this = this;\n        // check if row is group\n        if (!row.group) {\n            return;\n        }\n        // forcing row expanded\n        row.group.expanded = true;\n        // updating group state\n        // check if already present\n        var groupState = this.groupState[row.group.id];\n        if (!groupState) {\n            groupState = {\n                expanded: this.expandGroups,\n            };\n        }\n        else {\n            groupState.expanded = this.expandGroups;\n        }\n        this.groupState[row.group.id] = groupState;\n        if (row.group.children) {\n            row.group.children.forEach(function (childRow) { return _this.forceRowGroupExpansion(childRow); });\n        }\n    };\n    // event listeners\n    KupDataTable.prototype.onColumnSort = function (_a, columnName) {\n        var ctrlKey = _a.ctrlKey;\n        // check if columnName is already in sort array\n        var i = 0;\n        for (; i < this.sort.length; i++) {\n            var sortObj = this.sort[i];\n            if (sortObj.column === columnName) {\n                break;\n            }\n        }\n        if (i < this.sort.length) {\n            // already in array... switching sort\n            var sortObj = this.sort[i];\n            var newSortObj = Object.assign({}, sortObj, { sortMode: sortObj.sortMode === SortMode.A ? SortMode.D : SortMode.A });\n            if (ctrlKey) {\n                var newSort = this.sort.slice();\n                newSort[i] = newSortObj;\n                this.sort = newSort;\n            }\n            else {\n                this.sort = [newSortObj];\n            }\n        }\n        else {\n            var sortObj = {\n                column: columnName,\n                sortMode: SortMode.A,\n            };\n            // if CTRL is pressed, push to array\n            // else, replace current array\n            if (ctrlKey) {\n                this.sort = this.sort.concat([sortObj]);\n            }\n            else {\n                this.sort = [sortObj];\n            }\n        }\n    };\n    KupDataTable.prototype.onFilterChange = function (_a, column) {\n        var detail = _a.detail;\n        // resetting current page\n        this.currentPage = 1;\n        var newFilters = Object.assign({}, this.filters);\n        if (detail.value.length === 0) {\n            delete newFilters[column];\n        }\n        else {\n            newFilters[column] = detail.value;\n        }\n        this.filters = newFilters;\n    };\n    KupDataTable.prototype.onGlobalFilterChange = function (_a) {\n        var detail = _a.detail;\n        // resetting current page\n        this.currentPage = 1;\n        this.globalFilterValue = detail.value;\n    };\n    KupDataTable.prototype.handlePageChanged = function (_a) {\n        var detail = _a.detail;\n        this.currentPage = detail.newPage;\n    };\n    KupDataTable.prototype.handleRowsPerPageChanged = function (_a) {\n        var detail = _a.detail;\n        this.currentRowsPerPage = detail.newRowsPerPage;\n    };\n    KupDataTable.prototype.onRowClick = function (event, row) {\n        // selecting row\n        this.handleRowSelect(row, event.ctrlKey);\n        // checking target\n        var target = event.target;\n        var clickedColumn = null;\n        if (target instanceof HTMLElement) {\n            if (target.tagName !== 'TR') {\n                var currentElement = target;\n                while (currentElement.tagName !== 'TD') {\n                    currentElement = currentElement.parentElement;\n                }\n                clickedColumn = currentElement.dataset.column;\n            }\n        }\n        this.kupRowSelected.emit({\n            selectedRows: this.selectedRows,\n            clickedColumn: clickedColumn,\n        });\n    };\n    KupDataTable.prototype.onDefaultRowActionClick = function (e, _a) {\n        var action = _a.action, row = _a.row, type = _a.type, index = _a.index;\n        e.stopPropagation();\n        this.kupRowActionClicked.emit({\n            action: action,\n            index: index,\n            row: row,\n            type: type,\n        });\n    };\n    KupDataTable.prototype.onRowActionExpanderClick = function (e, row) {\n        e.stopPropagation();\n        this.kupRowActionClicked.emit({\n            row: row,\n            type: 'expander',\n        });\n    };\n    KupDataTable.prototype.handleRowSelect = function (row, ctrlKey) {\n        if (this.multiSelection) {\n            if (ctrlKey && this.selectedRows) {\n                var index = this.selectedRows.indexOf(row);\n                if (index < 0) {\n                    // adding\n                    this.selectedRows = this.selectedRows.concat([row]);\n                }\n                else {\n                    // removing\n                    this.selectedRows.splice(index, 1);\n                    this.selectedRows = this.selectedRows.slice();\n                }\n            }\n            else {\n                this.selectedRows = [row];\n            }\n        }\n        else {\n            this.selectedRows = [row];\n        }\n    };\n    KupDataTable.prototype.onRowCheckboxSelection = function (_a, row) {\n        var target = _a.target;\n        if (target.checked) {\n            if (this.selectedRows.length > 0) {\n                this.selectedRows = this.selectedRows.concat([row]);\n            }\n            else {\n                this.selectedRows = [row];\n            }\n        }\n        else {\n            var index = this.selectedRows.indexOf(row);\n            if (index >= 0) {\n                this.selectedRows.splice(index, 1);\n                this.selectedRows = this.selectedRows.slice();\n            }\n        }\n        this.kupRowSelected.emit({\n            selectedRows: this.selectedRows,\n            clickedColumn: null,\n        });\n    };\n    KupDataTable.prototype.onRowExpand = function (row) {\n        // row should be a 'group' row\n        row.group.expanded = !row.group.expanded;\n        // updating group map\n        this.groupState[row.group.id].expanded = row.group.expanded;\n        // changing group state to trigger rendering\n        this.groupState = Object.assign({}, this.groupState);\n    };\n    KupDataTable.prototype.onSelectAll = function (_a) {\n        var target = _a.target;\n        if (target.checked) {\n            // select all rows\n            this.selectedRows = this.renderedRows;\n        }\n        else {\n            // deselect all rows\n            this.selectedRows = [];\n        }\n        // triggering event\n        this.kupRowSelected.emit({\n            selectedRows: this.selectedRows,\n            clickedColumn: null,\n        });\n    };\n    KupDataTable.prototype.onColumnMouseEnter = function (column) {\n        var _this = this;\n        this.columnOverTimeout = setTimeout(function () {\n            _this.openedMenu = column;\n        }, 500);\n    };\n    KupDataTable.prototype.onColumnMouseLeave = function (column) {\n        // clearing timeout\n        clearTimeout(this.columnOverTimeout);\n        if (this.openedMenu === column) {\n            this.openedMenu = null;\n        }\n    };\n    KupDataTable.prototype.switchColumnGroup = function (group, column) {\n        // resetting opened menu\n        this.openedMenu = null;\n        // reset group state\n        this.groupState = {};\n        if (group !== null) {\n            // remove from grouping\n            var index = this.groups.indexOf(group);\n            this.groups.splice(index, 1);\n            this.groups = this.groups.slice();\n        }\n        else {\n            // add to groups\n            this.groups = this.groups.concat([{ column: column, visible: true }]);\n        }\n    };\n    KupDataTable.prototype.onOptionClicked = function (column, row) {\n        this.kupOptionClicked.emit({\n            column: column,\n            row: row,\n        });\n    };\n    KupDataTable.prototype.onJ4btnClicked = function (row, column, cell) {\n        // Since this function is called with bind, the event from the kup-button gets passed into the arguments array\n        var buttonEvent = arguments[3];\n        if (buttonEvent) {\n            // Prevents double events to be fired.\n            buttonEvent.stopPropagation();\n        }\n        else {\n            throw 'kup-data-table error: missing event';\n        }\n        this.kupCellButtonClicked.emit({\n            cell: cell,\n            column: column,\n            row: row,\n        });\n    };\n    // utility methods\n    KupDataTable.prototype.groupRows = function () {\n        if (!this.isGrouping()) {\n            return;\n        }\n        this.rows = groupRows(this.getColumns(), this.rows, this.groups, this.totals);\n        this.adjustGroupState();\n    };\n    // Handler for loadMore button is clicked.\n    KupDataTable.prototype.onLoadMoreClick = function () {\n        var loadItems = 0;\n        switch (this.loadMoreMode) {\n            case LoadMoreMode.CONSTANT:\n                loadItems = this.loadMoreStep;\n                break;\n            case LoadMoreMode.CONSTANT_INCREMENT:\n                loadItems = this.loadMoreStep * (this.loadMoreEventCounter + 1);\n                break;\n            case LoadMoreMode.PROGRESSIVE_THRESHOLD:\n                loadItems =\n                    Math.max(this.loadMoreEventPreviousQuantity, this.loadMoreStep) * Math.min(this.loadMoreEventCounter + 1, 2);\n                break;\n        }\n        if (loadItems > this.loadMoreLimit) {\n            loadItems = this.loadMoreLimit;\n        }\n        this.kupLoadMoreClicked.emit({\n            loadItems: loadItems,\n        });\n        this.loadMoreEventPreviousQuantity = loadItems;\n        this.loadMoreEventCounter++;\n    };\n    KupDataTable.prototype.adjustGroupState = function () {\n        var _this = this;\n        if (!this.rows ||\n            this.rows.length === 0 ||\n            !this.rows[0].hasOwnProperty('group')) {\n            // no grouping\n            return;\n        }\n        this.rows.forEach(function (r) { return _this.adjustGroupStateFromRow(r); });\n    };\n    KupDataTable.prototype.adjustGroupStateFromRow = function (row) {\n        var _this = this;\n        if (!row || !row.hasOwnProperty('group')) {\n            // not a groping row, nothing to do\n            return;\n        }\n        var group = row.group;\n        // check if already in group state\n        var groupFromState = this.groupState[group.id];\n        if (!groupFromState) {\n            // add to state\n            this.groupState[group.id] = group;\n        }\n        else {\n            // update expanded\n            group.expanded = groupFromState.expanded;\n        }\n        group.children.forEach(function (child) { return _this.adjustGroupStateFromRow(child); });\n    };\n    KupDataTable.prototype.sortRows = function () {\n        this.rows = sortRows(this.rows, this.sort);\n    };\n    KupDataTable.prototype.paginateRows = function (rows) {\n        var start = this.currentPage * this.currentRowsPerPage -\n            this.currentRowsPerPage;\n        return rows.slice(start, start + this.currentRowsPerPage);\n    };\n    KupDataTable.prototype.getSortIcon = function (columnName) {\n        // check if column in sort array\n        for (var _i = 0, _a = this.sort; _i < _a.length; _i++) {\n            var sortObj = _a[_i];\n            if (sortObj.column === columnName) {\n                return 'A' === sortObj.sortMode\n                    ? 'mdi-sort-ascending'\n                    : 'mdi-sort-descending';\n            }\n        }\n        // default\n        return 'mdi-sort';\n    };\n    KupDataTable.prototype.calculateColspan = function () {\n        var colSpan = this.getVisibleColumns().length;\n        if (this.multiSelection) {\n            colSpan += 1;\n        }\n        if (this.isGrouping() && this.hasTotals()) {\n            colSpan += 1;\n        }\n        if (this.hasRowActions()) {\n            colSpan += 1;\n        }\n        return colSpan;\n    };\n    KupDataTable.prototype.isGroupExpanded = function (_a) {\n        var group = _a.group;\n        if (!group) {\n            return false;\n        }\n        // check if in group state\n        if (this.groupState[group.id]) {\n            return this.groupState[group.id].expanded;\n        }\n        else {\n            return false;\n        }\n    };\n    KupDataTable.prototype.styleHasBorderRadius = function (cell) {\n        if (cell && cell.style && cell.style.borderRadius) {\n            return true;\n        }\n        return false;\n    };\n    //==== Column sort order methods ====\n    KupDataTable.prototype.handleColumnSort = function (receivingColumn, sortedColumn) {\n        // Get receiving column position\n        var receivingColIndex = this.data.columns.findIndex(function (col) { return col.name === receivingColumn.name &&\n            col.title === receivingColumn.title; });\n        // Get sorted column current position\n        var sortedColIndex = this.data.columns.findIndex(function (col) { return col.name === sortedColumn.name &&\n            col.title === sortedColumn.title; });\n        // Moves the sortedColumn into the correct position\n        if (this.sortableColumnsMutateData) {\n            this.moveSortedColumns(this.data.columns, receivingColIndex, sortedColIndex);\n        }\n        // fires event\n        this.kupDataTableSortedColumn.emit({\n            receivingColumnIndex: receivingColIndex,\n            sortedColumnIndex: sortedColIndex,\n        });\n    };\n    KupDataTable.prototype.moveSortedColumns = function (columns, receivingColumnIndex, sortedColumnIndex) {\n        var remove = columns.splice(sortedColumnIndex, 1);\n        columns.splice(receivingColumnIndex, 0, remove[0]);\n    };\n    KupDataTable.prototype.defaultSortingFunction = function (columns, receivingColumnIndex, sortedColumnIndex, useNewObject) {\n        if (useNewObject === void 0) { useNewObject = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var toSort;\n            return __generator(this, function (_a) {\n                toSort = !useNewObject ? columns : columns.slice();\n                this.moveSortedColumns(toSort, receivingColumnIndex, sortedColumnIndex);\n                return [2 /*return*/, toSort];\n            });\n        });\n    };\n    //======== render methods ========\n    KupDataTable.prototype.renderHeader = function () {\n        var _this = this;\n        var hasCustomColumnsWidth = this.columnsWidth.length > 0;\n        var dataColumns = this.getVisibleColumns().map(function (column) {\n            // filter\n            var filter = null;\n            if (_this.showFilters) {\n                var filterValue = '';\n                if (_this.filters && _this.filters[column.name]) {\n                    filterValue = _this.filters[column.name];\n                }\n                filter = (h(\"div\", null, h(\"kup-text-input\", { class: \"datatable-filter\", initialValue: filterValue, \"data-col\": column.name, onKetchupTextInputUpdated: function (e) {\n                        _this.onFilterChange(e, column.name);\n                    } })));\n            }\n            // sort\n            var sort = null;\n            if (_this.sortEnabled) {\n                sort = (h(\"span\", { class: \"column-sort\", onMouseEnter: function () { return _this.onColumnMouseLeave(column.name); }, onMouseLeave: function () { return _this.onColumnMouseEnter(column.name); } }, h(\"span\", { role: \"button\", \"aria-label\": \"Sort column\" // TODO\n                    ,\n                    class: 'mdi ' + _this.getSortIcon(column.name), onClick: function (e) { return _this.onColumnSort(e, column.name); } })));\n            }\n            var thStyle = null;\n            if (hasCustomColumnsWidth) {\n                for (var i = 0; i < _this.columnsWidth.length; i++) {\n                    var currentCol = _this.columnsWidth[i];\n                    if (currentCol.column === column.name) {\n                        var width = currentCol.width.toString() + 'px';\n                        thStyle = {\n                            width: width,\n                            minWidth: width,\n                            maxWidth: width,\n                        };\n                        break;\n                    }\n                }\n            }\n            var columnMenuItems = [];\n            // adding grouping\n            var group = _this.getGroupByName(column.name);\n            var groupLabel = group != null\n                ? 'Disattiva raggruppamento'\n                : 'Attiva raggruppamento';\n            columnMenuItems.push(h(\"li\", { role: \"menuitem\", onClick: function () { return _this.switchColumnGroup(group, column.name); } }, h(\"span\", { class: \"mdi mdi-book\" }), groupLabel));\n            columnMenuItems.push(h(\"li\", { role: \"menuitem\", onClick: function () { return _this.kupAddColumn.emit({ column: column.name }); } }, h(\"span\", { class: \"mdi mdi-table-column-plus-after\" }), \"Aggiungi colonna\"));\n            var columnMenu = null;\n            if (columnMenuItems.length !== 0) {\n                var menuClass = _this.openedMenu === column.name ? 'open' : 'closed';\n                columnMenu = (h(\"div\", { class: \"column-menu \" + menuClass }, h(\"ul\", { role: \"menubar\" }, columnMenuItems)));\n            }\n            // Check if columns are droppable and sets their handlers\n            // TODO set better typing.\n            var dragHandlers = {};\n            if (_this.enableSortableColumns) {\n                // Reference for drag events and what they permit or not\n                // https://html.spec.whatwg.org/multipage/dnd.html#concept-dnd-p\n                dragHandlers = {\n                    draggable: true,\n                    onDragStart: function (e) {\n                        // Sets drag data and the type of drag\n                        e.dataTransfer.setData(KupDataTableColumnDragType, JSON.stringify(column));\n                        e.dataTransfer.effectAllowed = 'move';\n                        // Remember that the current target is different from the one print out in the console\n                        // Sets which element has started the drag\n                        e.target.setAttribute(_this.dragStarterAttribute, '');\n                        _this.theadRef.setAttribute(_this.dragFlagAttribute, '');\n                        _this.columnsAreBeingDragged = true;\n                    },\n                    onDragLeave: function (e) {\n                        if (e.dataTransfer.types.indexOf(KupDataTableColumnDragType) >= 0) {\n                            e.target.removeAttribute(_this.dragOverAttribute);\n                        }\n                    },\n                    onDragOver: function (e) {\n                        if (e.dataTransfer.types.indexOf(KupDataTableColumnDragType) >= 0) {\n                            var overElement = e.target;\n                            overElement.setAttribute(_this.dragOverAttribute, '');\n                            // If element can have a drop effect\n                            if (!overElement.hasAttribute(_this.dragStarterAttribute) &&\n                                _this.columnsAreBeingDragged) {\n                                e.preventDefault(); // Mandatory to allow drop\n                                e.dataTransfer.effectAllowed = 'move';\n                            }\n                            else {\n                                e.dataTransfer.effectAllowed = 'none';\n                            }\n                        }\n                    },\n                    onDragEnd: function (e) {\n                        // When the drag has ended, checks if the element still exists or it was destroyed by the JSX\n                        var dragStarter = e.target;\n                        if (dragStarter) {\n                            // IF it still exists, removes the attribute so that it can perform a new drag again\n                            dragStarter.removeAttribute(_this.dragStarterAttribute);\n                        }\n                        _this.theadRef.removeAttribute(_this.dragFlagAttribute);\n                        _this.columnsAreBeingDragged = false;\n                    },\n                    onDrop: function (e) {\n                        if (e.dataTransfer.types.indexOf(KupDataTableColumnDragType) >= 0) {\n                            var transferredData = JSON.parse(e.dataTransfer.getData(KupDataTableColumnDragType));\n                            e.preventDefault();\n                            e.target.removeAttribute(_this.dragOverAttribute);\n                            // We are sure the tables have been dropped in a valid location -> starts sorting the columns\n                            _this.handleColumnSort(column, transferredData);\n                        }\n                    },\n                };\n            }\n            return (h(\"th\", Object.assign({ style: thStyle, onMouseEnter: function () { return _this.onColumnMouseEnter(column.name); }, onMouseLeave: function () { return _this.onColumnMouseLeave(column.name); } }, dragHandlers), h(\"span\", { class: \"column-title\" }, column.title), sort, filter, columnMenu));\n        });\n        var multiSelectColumn = null;\n        if (this.multiSelection) {\n            var style = {\n                width: '30px',\n                margin: '0 auto',\n            };\n            multiSelectColumn = (h(\"th\", { style: style }, h(\"input\", { type: \"checkbox\", onChange: function (e) { return _this.onSelectAll(e); }, title: \"selectedRow: \" + this.selectedRows.length + \" - renderedRows: \" + this.renderedRows.length, checked: this.selectedRows.length > 0 &&\n                    this.selectedRows.length ===\n                        this.renderedRows.length })));\n        }\n        var groupColumn = null;\n        if (this.isGrouping() && this.hasTotals()) {\n            groupColumn = h(\"th\", null);\n        }\n        var actionsColumn = null;\n        if (this.hasRowActions()) {\n            actionsColumn = h(\"th\", null);\n        }\n        return [multiSelectColumn, groupColumn, actionsColumn].concat(dataColumns);\n    };\n    KupDataTable.prototype.renderFooter = function () {\n        var _this = this;\n        if (!this.hasTotals()) {\n            // no footer\n            return null;\n        }\n        var footerCells = this.getVisibleColumns().map(function (_a) {\n            var name = _a.name;\n            return (h(\"td\", null, _this.footer[name]));\n        });\n        var selectRowCell = null;\n        if (this.multiSelection) {\n            selectRowCell = h(\"td\", null);\n        }\n        var groupingCell = null;\n        if (this.isGrouping() && this.hasTotals()) {\n            groupingCell = h(\"td\", null);\n        }\n        var footer = (h(\"tfoot\", null, h(\"tr\", null, selectRowCell, groupingCell, footerCells)));\n        return footer;\n    };\n    KupDataTable.prototype.renderRow = function (row, level, previousRow) {\n        var _this = this;\n        if (level === void 0) { level = 0; }\n        var visibleColumns = this.getVisibleColumns();\n        if (row.group) {\n            if (row.group.children.length === 0) {\n                // empty group\n                return null;\n            }\n            var icon = 'mdi mdi-chevron-' + (row.group.expanded ? 'down' : 'right');\n            var jsxRows_1 = [];\n            var indent = [];\n            for (var i = 0; i < level; i++) {\n                indent.push(h(\"span\", { class: \"indent\" }));\n            }\n            if (this.hasTotals()) {\n                var cells = [];\n                // adding 'grouping' cell\n                var colSpan = this.multiSelection ? 2 : 1;\n                cells.push(h(\"td\", { colSpan: colSpan }, indent, h(\"span\", { role: \"button\", \"aria-label\": \"Row expander\" // TODO change this label\n                    ,\n                    class: icon, onClick: function (e) {\n                        e.stopPropagation();\n                        _this.onRowExpand(row);\n                    } }), row.group.label));\n                for (var _i = 0, visibleColumns_1 = visibleColumns; _i < visibleColumns_1.length; _i++) {\n                    var column = visibleColumns_1[_i];\n                    cells.push(h(\"td\", { class: \"total\" }, row.group.totals[column.name]));\n                }\n                jsxRows_1.push(h(\"tr\", { class: \"group\", onClick: function () { return _this.onRowExpand(row); } }, cells));\n            }\n            else {\n                jsxRows_1.push(h(\"tr\", { class: \"group\", onClick: function () { return _this.onRowExpand(row); } }, h(\"td\", { colSpan: this.calculateColspan() }, indent, h(\"span\", { role: \"button\", \"aria-label\": \"Row expander\" // TODO change this label\n                    ,\n                    class: \"row-expander \" + icon, onClick: function (e) {\n                        e.stopPropagation();\n                        _this.onRowExpand(row);\n                    } }), row.group.label)));\n            }\n            // if group is expanded, add children\n            if (this.isGroupExpanded(row)) {\n                row.group.children\n                    // We must pass the previous element of the array to check if we must hide or display the value of the cell\n                    // When the column has specified the parameter hideValuesRepetitions\n                    .map(function (row, groupRowIndex, currentArray) { return _this.renderRow(row, level + 1, groupRowIndex > 0\n                    ? currentArray[groupRowIndex - 1]\n                    : null); })\n                    .forEach(function (jsxRow) {\n                    if (Array.isArray(jsxRow)) {\n                        jsxRow.forEach(function (jr) { return jsxRows_1.push(jr); });\n                    }\n                    else {\n                        jsxRows_1.push(jsxRow);\n                    }\n                });\n            }\n            // grouping row\n            return jsxRows_1;\n        }\n        else {\n            var cells = visibleColumns.map(function (currentColumn, index) {\n                var name = currentColumn.name, hideValuesRepetitions = currentColumn.hideValuesRepetitions;\n                var indend = [];\n                if (index === 0 && !(_this.isGrouping() && _this.hasTotals())) {\n                    for (var i = 0; i < level; i++) {\n                        indend.push(h(\"span\", { class: \"indent\" }));\n                    }\n                }\n                var cell = row.cells[name];\n                var options = null;\n                /**\n                 * Options must be rendered when the option field is specified AND (one of the following):\n                 * 1 - Column do not have to hide repetitions\n                 * 2 - Column has to hide repetitions but we are printing the first row.\n                 * 3 - Column has to hide repetitions but the value of the previous row is not equal to the current row cell.\n                 * @todo Move this rendering, if possible, inside renderCell()\n                 */\n                if (cell.options &&\n                    (!hideValuesRepetitions ||\n                        (hideValuesRepetitions &&\n                            (!previousRow ||\n                                previousRow.cells[name].value !== cell.value)))) {\n                    options = (h(\"span\", { class: \"options\", role: \"button\", \"aria-label\": \"Opzioni oggetto\", title: \"Opzioni oggetto\", onClick: function () { return _this.onOptionClicked(name, row); } }, h(\"i\", { class: \"mdi mdi-settings\" })));\n                }\n                var jsxCell = _this.renderCell(cell, name, \n                // The previous value must be passed only if repeated values can be hidden and we have a previous row.\n                {\n                    row: row,\n                    column: currentColumn,\n                }, hideValuesRepetitions && previousRow\n                    ? previousRow.cells[name].value\n                    : null);\n                var cellClass = {\n                    number: isNumber(cell.obj),\n                };\n                var cellStyle = null;\n                if (!_this.styleHasBorderRadius(cell)) {\n                    cellStyle = cell.style;\n                }\n                return (h(\"td\", { \"data-column\": name, style: cellStyle, class: cellClass }, indend, jsxCell, options));\n            });\n            var selectRowCell = null;\n            if (this.multiSelection) {\n                selectRowCell = (h(\"td\", null, h(\"input\", { type: \"checkbox\", checked: this.selectedRows.includes(row), onClick: function (e) { return e.stopPropagation(); }, onChange: function (e) { return _this.onRowCheckboxSelection(e, row); } })));\n            }\n            var groupingCell = null;\n            if (this.isGrouping() && this.hasTotals()) {\n                groupingCell = h(\"td\", null);\n            }\n            // adding row to rendered rows\n            this.renderedRows.push(row);\n            var rowActionsCell = null;\n            if (this.hasRowActions()) {\n                var defaultRowActions = this.renderActions(this.rowActions, row, 'default');\n                var rowActionExpander = null;\n                var variableActions = null;\n                if (row.actions) {\n                    // adding variable actions\n                    variableActions = this.renderActions(row.actions, row, 'variable');\n                }\n                else {\n                    // adding expander\n                    rowActionExpander = (h(\"span\", { title: \"Espandi voci\", class: \"row-action mdi mdi-chevron-right\", onClick: function (e) { return _this.onRowActionExpanderClick(e, row); }, role: \"button\", \"aria-label\": \"Espandi voci\", \"aria-pressed\": \"false\" }));\n                }\n                rowActionsCell = (h(\"td\", null, defaultRowActions, rowActionExpander, variableActions));\n            }\n            var rowClass = {\n                selected: this.selectedRows.includes(row),\n            };\n            return (h(\"tr\", { class: rowClass, onClick: function (e) { return _this.onRowClick(e, row); } }, selectRowCell, groupingCell, rowActionsCell, cells));\n        }\n    };\n    KupDataTable.prototype.renderActions = function (actions, row, type) {\n        var _this = this;\n        return actions.map(function (action, index) {\n            return (h(\"span\", { title: action.text, class: \"row-action \" + action.icon, onClick: function (e) { return _this.onDefaultRowActionClick(e, {\n                    action: action,\n                    index: index,\n                    row: row,\n                    type: type,\n                }); }, role: \"button\", \"aria-label\": action.text, \"aria-pressed\": \"false\" }));\n        });\n    };\n    /**\n     * FActory function for cells.\n     * @param cell - cell object\n     * @param column - the cell's column name\n     * @param previousRowCellValue - An optional value of the previous cell on the same column. If set and equal to the value of the current cell, makes the value of the current cell go blank.\n     * @param cellData - Additional data for the current cell.\n     * @param cellData.column - The column object to which the cell belongs.\n     * @param cellData.row - The row object to which the cell belongs.\n     */\n    KupDataTable.prototype.renderCell = function (cell, column, cellData, previousRowCellValue) {\n        var clazz = {\n            'cell-content': true,\n        };\n        // When the previous row value is different from the current value, we can show the current value.\n        var valueToDisplay = previousRowCellValue !== cell.value ? cell.value : '';\n        // Sets the default value\n        var content = valueToDisplay;\n        if (isIcon(cell.obj) || isVoCodver(cell.obj)) {\n            content = h(\"span\", { class: valueToDisplay });\n        }\n        else if (isNumber(cell.obj)) {\n            content = valueToDisplay;\n            if (content) {\n                var cellValue = numeral(cell.obj.k).value();\n                if (cellValue < 0) {\n                    clazz['negative-number'] = true;\n                }\n            }\n        }\n        else if (isImage(cell.obj)) {\n            content = (h(\"img\", { src: valueToDisplay, alt: \"\", width: \"64\", height: \"64\" }));\n        }\n        else if (isLink(cell.obj)) {\n            content = (h(\"a\", { href: valueToDisplay, target: \"_blank\" }, valueToDisplay));\n        }\n        else if (isCheckbox(cell.obj)) {\n            content = (h(\"kup-checkbox\", { checked: !!cell.obj.k, disabled: cellData &&\n                    cellData.row &&\n                    cellData.row.hasOwnProperty('readOnly')\n                    ? cellData.row.readOnly\n                    : true }));\n        }\n        else if (isButton(cell.obj)) {\n            /**\n             * Here either using .bind() or () => {} function would bring more or less the same result.\n             * Both those syntax would create at run time a new function for each cell on which they're rendered.\n             * (See references below.)\n             *\n             * Another solution would be to simply bind an event handler like this:\n             * onKupButtonClicked={this.onJ4btnClicked}\n             *\n             * The problem here is that, by using that syntax:\n             * 1 - Each time a cell is rendered with an object item, either the cell or button must have a data-row,\n             *      data-column and data-cell-name attributes which stores the index of cell's and the name of the clicked cell;\n             * 2 - each time a click event is triggered, the handler reads the row and column index set on the element;\n             * 3 - searches those column and row inside the current data for the table;\n             * 4 - once the data is found, creates the custom event with the data to be sent.\n             *\n             * Currently there is no reason to perform such a search, but it may arise if on large data tables\n             * there is a significant performance loss.\n             * @see https://reactjs.org/docs/handling-events.html\n             */\n            content = (h(\"kup-button\", Object.assign({}, createJ4objButtonConfig(cell), { onKupButtonClicked: this.onJ4btnClicked.bind(this, cellData ? cellData.row : null, cellData ? cellData.column : null, cell) })));\n        }\n        else if (isBar(cell.obj)) {\n            var props = {\n                value: cell.value,\n            };\n            // check if column has width\n            if (this.columnsWidth && this.columnsWidth[column]) {\n                props.width = this.columnsWidth[column];\n            }\n            // Controls if we should display this cell value\n            content = valueToDisplay ? h(\"kup-graphic-cell\", Object.assign({}, props)) : null;\n        }\n        // TODO\n        // else if (isProgressBar(cell.obj)) {\n        //     content = <kup-progress-bar />;\n        // }\n        // if cell.style has border, apply style to cellcontent\n        var style = null;\n        if (this.styleHasBorderRadius(cell)) {\n            style = cell.style;\n        }\n        return (h(\"span\", { class: clazz, style: style }, content));\n    };\n    KupDataTable.prototype.renderLoadMoreButton = function (isSlotted) {\n        var _this = this;\n        if (isSlotted === void 0) { isSlotted = true; }\n        var label = 'Carica altri dati';\n        return (h(\"button\", { \"aria-label\": label, class: \"load-more-records mdi mdi-plus-circle\", role: \"button\", slot: isSlotted ? 'more-results' : null, tabindex: \"0\", title: label, onClick: function () { return _this.onLoadMoreClick(); } }));\n    };\n    KupDataTable.prototype.render = function () {\n        var _this = this;\n        // resetting rows\n        this.renderedRows = [];\n        var rows = null;\n        if (this.paginatedRows.length === 0) {\n            rows = (h(\"tr\", null, h(\"td\", { colSpan: this.calculateColspan() }, \"Empty data\")));\n        }\n        else {\n            rows = [];\n            this.paginatedRows\n                // We must pass the previous element of the array to check if we must hide or display the value of the cell\n                // When the column has specified the parameter hideValuesRepetitions\n                .map(function (row, rowIndex, currentArray) { return _this.renderRow(row, 0, rowIndex > 0 ? currentArray[rowIndex - 1] : null); })\n                .forEach(function (jsxRow) {\n                if (Array.isArray(jsxRow)) {\n                    jsxRow.forEach(function (jr) { return rows.push(jr); });\n                }\n                else {\n                    rows.push(jsxRow);\n                }\n            });\n        }\n        // header\n        // for multi selection purposes, this should be called before this.renderedRows has been evaluated\n        var header = this.renderHeader();\n        // footer\n        var footer = this.renderFooter();\n        var globalFilter = null;\n        if (this.globalFilter) {\n            globalFilter = (h(\"div\", { id: \"globalFilter\" }, h(\"kup-text-input\", { label: \"Global filter\", onKetchupTextInputUpdated: function (event) { return _this.onGlobalFilterChange(event); } })));\n        }\n        var paginatorTop = null;\n        if (PaginatorPos.TOP === this.paginatorPos ||\n            PaginatorPos.BOTH === this.paginatorPos) {\n            paginatorTop = (h(\"kup-paginator\", { id: \"top-paginator\", max: this.rows.length, perPage: this.rowsPerPage, selectedPerPage: this.currentRowsPerPage, currentPage: this.currentPage, onKupPageChanged: function (e) { return _this.handlePageChanged(e); }, onKupRowsPerPageChanged: function (e) { return _this.handleRowsPerPageChanged(e); } }, this.showLoadMore ? this.renderLoadMoreButton() : null));\n        }\n        var paginatorBottom = null;\n        if (PaginatorPos.BOTTOM === this.paginatorPos ||\n            PaginatorPos.BOTH === this.paginatorPos) {\n            paginatorBottom = (h(\"kup-paginator\", { id: \"bottom-paginator\", max: this.rows.length, perPage: this.rowsPerPage, selectedPerPage: this.currentRowsPerPage, currentPage: this.currentPage, onKupPageChanged: function (e) { return _this.handlePageChanged(e); }, onKupRowsPerPageChanged: function (e) { return _this.handleRowsPerPageChanged(e); } }, this.showLoadMore ? this.renderLoadMoreButton() : null));\n        }\n        var groupChips = null;\n        if (this.isGrouping()) {\n            var chips = this.groups.map(function (group) {\n                var column = getColumnByName(_this.getColumns(), group.column);\n                if (column) {\n                    return (h(\"kup-chip\", { closable: true, onClose: function () { return _this.removeGroup(group); } }, column.title));\n                }\n                else {\n                    return null;\n                }\n            });\n            groupChips = h(\"div\", { id: \"group-chips\" }, chips);\n        }\n        var densityPanel = (h(\"div\", { id: \"density-panel\" }, h(\"kup-button\", { class: { active: this.density === 'small' }, iconClass: \"mdi mdi-format-align-justify\", onClick: function () { return (_this.density = 'small'); } }), h(\"kup-button\", { class: { active: this.density === 'medium' }, iconClass: \"mdi mdi-menu\", onClick: function () { return (_this.density = 'medium'); } }), h(\"kup-button\", { class: { active: this.density === 'big' }, iconClass: \"mdi mdi-view-sequential\", onClick: function () { return (_this.density = 'big'); } })));\n        var tableClass = {\n            'column-separation': ShowGrid.COMPLETE === this.showGrid ||\n                ShowGrid.COL === this.showGrid,\n            'row-separation': ShowGrid.COMPLETE === this.showGrid ||\n                ShowGrid.ROW === this.showGrid,\n            'persistent-header': this.headerIsPersistent,\n        };\n        tableClass[\"density-\" + this.density] = true;\n        return (h(\"div\", { id: \"data-table-wrapper\" }, h(\"div\", { class: \"above-wrapper\" }, paginatorTop, globalFilter, densityPanel), h(\"div\", { class: \"below-wrapper\" }, groupChips, h(\"table\", { class: tableClass }, h(\"thead\", { hidden: !this.showHeader, ref: function (el) { return (_this.theadRef = el); } }, h(\"tr\", null, header)), h(\"tbody\", null, rows), footer)), paginatorBottom));\n    };\n    Object.defineProperty(KupDataTable, \"watchers\", {\n        get: function () {\n            return {\n                \"rowsPerPage\": [\"rowsPerPageHandler\", \"recalculateRows\"],\n                \"expandGroups\": [\"expandGroupsHandler\"],\n                \"data\": [\"recalculateRows\"],\n                \"sort\": [\"recalculateRows\"],\n                \"filters\": [\"recalculateRows\"],\n                \"globalFilterValue\": [\"recalculateRows\"],\n                \"groups\": [\"recalculateRows\"],\n                \"totals\": [\"recalculateRows\"],\n                \"currentPage\": [\"recalculateRows\"],\n                \"currentRowsPerPage\": [\"recalculateRows\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KupDataTable, \"style\", {\n        get: function () { return \"\\@import url(https://cdn.materialdesignicons.com/3.6.95/css/materialdesignicons.min.css);:host{--dtt_background-color:var(--kup-data-table_background-color,#fff);--dtt_border-color:var(--kup-data-table_border-color,#bdbdbd);--dtt_box-shadow:var(--kup-data-table_box-shadow,0px 0px 7.5px 0px hsla(0,0%,50.2%,0.5));--dtt_color:var(--kup-data-table_color,#1a1a1a);--dtt_drag-over--allowed:var(--kup-data-table_drag-over--allowed,rgba(78,144,143,0.24));--dtt_drag-over--forbidden:var(--kup-data-table_drag-over--forbidden,rgba(240,66,60,0.24));--dtt_filter-border-color:var(--kup-data-table_filter-border-color,#d0d0d0);--dtt_filter-background-color:var(--kup-data-table_filter-background-color,#fff);--dtt_group-background-color:var(--kup-data-table_group-background-color,#f9f9f9);--dtt_hover-color:var(--kup-data-table_hover-color,#545454);--dtt_head-background-color:var(--kup-data-table_head-background-color,#fff);--dtt_header-offset:var(--kup-data-table_header-offset,50px);--dtt_hover-background-color:var(--kup-data-table_hover-background-color,#f0f0f0);--dtt_icons-color:var(--kup-data-table_icons-color,grey);--dtt_icons-hover-color:var(--kup-data-table_icons-hover-color,#4e908f);--dtt_font-size:var(--kup-data-table_font-size,0.8125rem);--dtt_main-color:var(--kup-data-table_main-color,#6aaaa7);--dtt_text-on-main-color:var(--kup-data-table_text-on-main-color,#fff);--dtt_negative-number-color:var(--kup-data-table_negative-number-color,#d91e18)}#data-table-wrapper{background-color:var(--dtt_background-color)}#data-table-wrapper table{color:var(--dtt_color);width:100%;min-width:intrinsic;min-width:-moz-max-content;min-width:-webkit-max-content;border-collapse:collapse;text-align:left;font-size:var(--dtt_font-size)}#data-table-wrapper table>thead{background:var(--dtt_head-background-color)}#data-table-wrapper table>thead th{position:relative;padding:.5rem .3125rem;white-space:nowrap;border-bottom:2px solid var(--dtt_border-color);border-right:1px solid var(--dtt_border-color)}#data-table-wrapper table>thead th kup-text-input.datatable-filter{--kup-text-input_border-color:var(--dtt_filter-border-color);--kup-text-input_background-color:var(--dtt_filter-background-color)}#data-table-wrapper table>thead th .column-sort{margin-left:.5rem;cursor:pointer}#data-table-wrapper table>thead th .column-sort .mdi{color:var(--dtt_icons-color);-webkit-transition:color .2s ease-in-out;transition:color .2s ease-in-out}#data-table-wrapper table>thead th .column-sort .mdi:hover{color:var(--dtt_icons-hover-color)}#data-table-wrapper table>thead th .column-sort .mdi-sort-ascending,#data-table-wrapper table>thead th .column-sort .mdi-sort-descending{color:var(--dtt_main-color)}#data-table-wrapper table>thead th .column-menu{background-color:var(--dtt_background-color);-webkit-box-shadow:var(--dtt_box-shadow);box-shadow:var(--dtt_box-shadow);color:var(--dtt_color);position:absolute;z-index:100;font-weight:400;min-width:200px;min-width:-moz-max-content;min-width:-webkit-max-content}#data-table-wrapper table>thead th .column-menu.closed{display:none}#data-table-wrapper table>thead th .column-menu.open{display:block;-webkit-animation:display-none-transition .5s both;-webkit-animation-timing-function:cubic-bezier(.67,-.81,.89,.71);animation:display-none-transition .5s both;animation-timing-function:cubic-bezier(.67,-.81,.89,.71)}#data-table-wrapper table>thead th .column-menu ul{list-style-type:none;margin:0;padding:0}#data-table-wrapper table>thead th .column-menu ul>li{padding:.8rem;-webkit-transition:color .2s ease-in-out;transition:color .2s ease-in-out;color:#545454}#data-table-wrapper table>thead th .column-menu ul>li:not(:last-child){border-bottom:1px solid var(--dtt_border-color)}#data-table-wrapper table>thead th .column-menu ul>li:hover{cursor:pointer;color:var(--dtt_main-color)}#data-table-wrapper table>thead th .column-menu ul>li .mdi{color:#4e908f;margin-right:.5rem}#data-table-wrapper table>thead[columns-dragging] [drag-over]{background-color:var(--dtt_drag-over--allowed)}#data-table-wrapper table>thead[columns-dragging] [drag-over]>*{pointer-events:none}#data-table-wrapper table>thead[columns-dragging] [drag-over][drag-starter]{background-color:var(--dtt_drag-over--forbidden)}#data-table-wrapper table>tbody{border:1px solid var(--dtt_border-color);cursor:pointer}#data-table-wrapper table>tbody>tr.selected>td,#data-table-wrapper table>tbody>tr:hover>td{color:var(--dtt_hover-color);background-color:var(--dtt_hover-background-color);-webkit-transition:background-color .25s ease-in-out;transition:background-color .25s ease-in-out}#data-table-wrapper table>tbody>tr.group{background:var(--dtt_group-background-color);font-weight:700;border-top:1px solid var(--dtt_border-color)}#data-table-wrapper table>tbody>tr.group>td{padding:1rem 0}#data-table-wrapper table>tbody>tr.group>td.total{text-align:right;padding-right:1rem}#data-table-wrapper table>tbody>tr>td{padding:.5rem .3125rem}#data-table-wrapper table>tbody>tr>td.number{text-align:right}#data-table-wrapper table>tbody>tr>td .row-expander{margin-right:.5rem}#data-table-wrapper table>tbody>tr>td .indent{display:inline-block;height:1rem;width:2rem}#data-table-wrapper table>tbody>tr>td .options{margin-left:.5rem;color:var(--dtt_icons-color)}#data-table-wrapper table>tbody>tr>td .options:hover{color:var(--dtt_icons-hover-color);-webkit-transition:color .25s ease-out;transition:color .25s ease-out}#data-table-wrapper table>tbody>tr>td .row-action{margin-right:.2rem}#data-table-wrapper table>tbody>tr>td .cell-content.negative-number{color:var(--dtt_negative-number-color)}#data-table-wrapper table.row-separation>tbody>tr{border-bottom:1px solid var(--dtt_border-color)}#data-table-wrapper table.column-separation>tbody>tr>td{border-right:1px solid var(--dtt_border-color)}#data-table-wrapper table.persistent-header{border-top:1px solid var(--dtt_border-color);position:relative}#data-table-wrapper table.persistent-header>thead{border-color:var(--dtt_border-color);border-style:solid;border-width:0 1px 0}#data-table-wrapper table.persistent-header>thead>th{background-color:var(--dtt_head-background-color);-webkit-box-shadow:var(--dtt_box-shadow);box-shadow:var(--dtt_box-shadow);position:-webkit-sticky;position:sticky;top:var(--dtt_header-offset);will-change:transform}#data-table-wrapper table.persistent-header>tbody{border-top:3px solid var(--dtt_border-color)}#data-table-wrapper table>tfoot td{text-align:right;font-weight:700;padding:.5rem .3125rem}#data-table-wrapper table.noGrid,#data-table-wrapper table.noGrid td{border:none}#data-table-wrapper table.density-small tbody>tr>td{padding-top:.2rem;padding-bottom:.2rem}#data-table-wrapper table.density-small tbody>tr.group>td{padding-top:.75rem;padding-bottom:.75rem}#data-table-wrapper table.density-big tbody>tr>td{padding-top:1rem;padding-bottom:1rem}#data-table-wrapper table.density-big tbody>tr.group>td{padding-top:1.25rem;padding-bottom:1.25rem}#globalFilter{margin-bottom:.5rem;text-align:center}#group-chips{display:-ms-flexbox;display:flex;margin-bottom:.5rem}#group-chips>.group-chip{display:-ms-flexbox;display:flex;background-color:var(--dtt_main-color);padding:.5rem;color:var(--dtt_text-on-main-color);margin-right:.5rem;cursor:pointer;-webkit-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}#group-chips>.group-chip:hover{opacity:.75}#density-panel{text-align:center}#density-panel kup-button{--kup-button_main-color:transparent;--kup-button_opacity:0.25;--kup-button_icon-color:var(--dtt_main-color);--kup-button_box-shadow:none}#density-panel kup-button:hover{--kup-button_opacity:0.75}#density-panel kup-button.active{--kup-button_opacity:1}\\@-webkit-keyframes display-none-transition{0%{opacity:0}to{opacity:1}}\\@keyframes display-none-transition{0%{opacity:0}to{opacity:1}}.load-more-records{background-color:transparent;border:0 none;color:var(--dtt_icons-color);cursor:pointer;display:inline-block;font-size:calc(var(--dtt_font-size) * 1.2);height:calc(var(--dtt_font-size) * 1.2);margin:0 6px;padding:0;-webkit-transition:color .3s;transition:color .3s;width:calc(var(--dtt_font-size) * 1.2)}.load-more-records:hover{color:var(--dtt_icons-hover-color)}.load-more-records:before{height:inherit;width:inherit}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return KupDataTable;\n}());\nexport { KupDataTable as kup_data_table };\n","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","module.exports = require(\"core-js/library/fn/json/stringify\");"],"sourceRoot":""}