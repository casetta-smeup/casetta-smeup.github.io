{"version":3,"sources":["src/assets/dist/esm/kup-chart.entry.js"],"names":[],"mappings":"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","sourcesContent":["import { r as registerInstance, c as createEvent, h, g as getElement } from './chunk-1851c479.js';\nimport './chunk-d8060b98.js';\nimport { n as numeral, m as moment, i as isNumber, a as isDate, g as getColumnByName$1 } from './chunk-621f9806.js';\n\nvar ChartType;\r\n(function (ChartType) {\r\n    ChartType[\"Area\"] = \"Area\";\r\n    ChartType[\"Bubble\"] = \"Bubble\";\r\n    ChartType[\"Cal\"] = \"Cal\";\r\n    ChartType[\"Candlestick\"] = \"Candlestick\";\r\n    ChartType[\"Combo\"] = \"Combo\";\r\n    ChartType[\"Geo\"] = \"Geo\";\r\n    ChartType[\"Hbar\"] = \"Hbar\";\r\n    ChartType[\"Line\"] = \"Line\";\r\n    ChartType[\"Ohlc\"] = \"Ohlc\";\r\n    ChartType[\"Pie\"] = \"Pie\";\r\n    ChartType[\"Sankey\"] = \"Sankey\";\r\n    ChartType[\"Scatter\"] = \"Scatter\";\r\n    ChartType[\"Unk\"] = \"Unk\";\r\n    ChartType[\"Vbar\"] = \"Vbar\";\r\n})(ChartType || (ChartType = {}));\r\nvar ChartAspect;\r\n(function (ChartAspect) {\r\n    ChartAspect[\"D2\"] = \"2D\";\r\n    ChartAspect[\"D3\"] = \"3D\";\r\n})(ChartAspect || (ChartAspect = {}));\n\nfunction formatToNumber(cell) {\r\n    if (cell.obj) {\r\n        return numeral(cell.obj.k).value();\r\n    }\r\n    return numeral(cell.value).value();\r\n}\r\nfunction formatToMomentDate(cell) {\r\n    let format = 'YYYYMMDD';\r\n    if (cell.obj) {\r\n        const obj = cell.obj;\r\n        if ('D8' === obj.t && '*DMYY' === obj.p) {\r\n            format = 'DDMMYYYY';\r\n        }\r\n        return moment(cell.obj.k, format);\r\n    }\r\n    return moment(cell.value, 'DD/MM/YYYY');\r\n}\n\n// TODO this should be in a \"data-table\" utility file\r\nfunction getColumnByName(name, columns) {\r\n    for (let i = 0; i < columns.length; i++) {\r\n        const column = columns[i];\r\n        if (name === column.name) {\r\n            return column;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nconst convertColumns = (data, { series, axis }) => {\r\n    if (!data || !series) {\r\n        return [];\r\n    }\r\n    const columns = [];\r\n    // axis\r\n    const axisColumn = getColumnByName(axis, data.columns);\r\n    if (axisColumn) {\r\n        columns.push(axisColumn);\r\n    }\r\n    // series\r\n    series.map((serie) => {\r\n        // searching colum\r\n        const c = getColumnByName(serie, data.columns);\r\n        if (c) {\r\n            columns.push(c);\r\n        }\r\n    });\r\n    return columns;\r\n};\r\nconst convertRows = (data, columns, showMarks) => {\r\n    if (!data) {\r\n        return [];\r\n    }\r\n    const rows = [];\r\n    if (data.rows) {\r\n        data.rows.forEach((r) => {\r\n            const cells = r.cells;\r\n            const currentRow = [];\r\n            columns.forEach((c, index) => {\r\n                const cell = cells[c.name];\r\n                if (cell && cell.obj) {\r\n                    const addMark = showMarks && index > 0;\r\n                    if (isNumber(cell.obj)) {\r\n                        const value = formatToNumber(cell);\r\n                        currentRow.push(value);\r\n                        if (addMark) {\r\n                            currentRow.push(value.toString());\r\n                        }\r\n                    }\r\n                    else if (isDate(cell.obj)) {\r\n                        const value = formatToMomentDate(cell).toDate();\r\n                        currentRow.push(value);\r\n                        if (addMark) {\r\n                            currentRow.push(value.toString());\r\n                        }\r\n                    }\r\n                    else {\r\n                        currentRow.push(cell.obj.k);\r\n                        if (addMark) {\r\n                            currentRow.push(cell.value);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            rows.push(currentRow);\r\n        });\r\n    }\r\n    return rows;\r\n};\n\nclass KupChart {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.types = [ChartType.Hbar];\n        this.colors = [];\n        this.legend = true;\n        this.stacked = false;\n        this.showMarks = false;\n        /**\n         * Google chart version to load\n         */\n        this.version = '45.2';\n        this.kupChartClicked = createEvent(this, \"kupChartClicked\", 6);\n    }\n    onDataChanged() {\n        console.log('changing data');\n    }\n    componentDidLoad() {\n        if (!this.axis || !this.series) {\n            // cannot create chart\n            return;\n        }\n        // loading charts\n        if (google) {\n            // getting google charts css from main document\n            document\n                .querySelectorAll(`link[href^=\"https://www.gstatic.com/charts/${this.version}/css\"]`)\n                .forEach((node) => this.el.shadowRoot.appendChild(node.cloneNode()));\n            try {\n                this.loadGoogleChart();\n            }\n            catch (err) {\n                console.error(err);\n            }\n        }\n    }\n    componentWillUpdate() {\n        if (this.gChart) {\n            this.gChart.clearChart();\n        }\n    }\n    componentDidUpdate() {\n        this.loadGoogleChart();\n    }\n    loadGoogleChart() {\n        google.charts.setOnLoadCallback(this.createChart.bind(this));\n    }\n    createGoogleChart() {\n        if (this.isComboChart()) {\n            return new google.visualization.ComboChart(this.chartContainer);\n        }\n        else if (this.types.length === 1) {\n            switch (this.types[0]) {\n                case ChartType.Area:\n                    return new google.visualization.AreaChart(this.chartContainer);\n                case ChartType.Bubble:\n                    return new google.visualization.BubbleChart(this.chartContainer);\n                case ChartType.Cal:\n                    return new google.visualization.Calendar(this.chartContainer);\n                case ChartType.Candlestick:\n                    return new google.visualization.CandlestickChart(this.chartContainer);\n                case ChartType.Geo:\n                    return new google.visualization.GeoChart(this.chartContainer);\n                case ChartType.Hbar:\n                    return new google.visualization.BarChart(this.chartContainer);\n                case ChartType.Line:\n                    return new google.visualization.LineChart(this.chartContainer);\n                case ChartType.Pie:\n                    return new google.visualization.PieChart(this.chartContainer);\n                case ChartType.Sankey:\n                    return new google.visualization.Sankey(this.chartContainer);\n                case ChartType.Scatter:\n                    return new google.visualization.ScatterChart(this.chartContainer);\n                default:\n                    return new google.visualization.ColumnChart(this.chartContainer);\n            }\n        }\n    }\n    getMainChartType() {\n        if (this.types.length > 0) {\n            return this.types[0];\n        }\n        return ChartType.Unk;\n    }\n    isComboChart() {\n        return this.types.length > 1;\n    }\n    createGoogleChartOptions() {\n        const opts = {\n            is3D: ChartAspect.D3 === this.asp,\n        };\n        if (this.colors && this.colors.length > 0) {\n            opts.colors = this.colors;\n        }\n        if (this.width) {\n            opts.width = this.width;\n        }\n        if (this.height) {\n            opts.height = this.height;\n        }\n        if (!this.legend) {\n            opts.legend = {\n                position: 'none',\n            };\n        }\n        if (this.stacked &&\n            (ChartType.Hbar === this.getMainChartType() ||\n                ChartType.Vbar === this.getMainChartType())) {\n            opts.isStacked = true;\n        }\n        if (this.graphTitle) {\n            opts.title = this.graphTitle;\n            opts.titleTextStyle = {};\n            if (this.graphTitleColor) {\n                opts.titleTextStyle.color = this.graphTitleColor;\n            }\n            if (this.graphTitleSize) {\n                opts.titleTextStyle.fontSize = this.graphTitleSize;\n            }\n        }\n        // series for combo chart\n        if (this.isComboChart()) {\n            opts.series = {};\n            this.types.forEach((type, index) => {\n                let serieType = 'bars';\n                if (ChartType.Line === type) {\n                    serieType = 'line';\n                }\n                else if (ChartType.Area === type) {\n                    serieType = 'area';\n                }\n                opts.series[index.toString()] = {\n                    type: serieType,\n                };\n            });\n        }\n        return opts;\n    }\n    createChart() {\n        const tableColumns = convertColumns(this.data, {\n            axis: this.axis,\n            series: this.series,\n        });\n        const tableRows = convertRows(this.data, tableColumns, this.showMarks);\n        const dataTableColumns = [];\n        for (let i = 0; i < tableColumns.length; i++) {\n            const c = tableColumns[i];\n            dataTableColumns.push({\n                label: c.name,\n            });\n            if (i > 0 && this.showMarks) {\n                dataTableColumns.push({\n                    type: 'string',\n                    role: 'annotation',\n                });\n            }\n        }\n        this.gChartDataTable = new google.visualization.arrayToDataTable([\n            dataTableColumns,\n            ...tableRows,\n        ]);\n        this.gChartView = new google.visualization.DataView(this.gChartDataTable);\n        this.gChart = this.createGoogleChart();\n        const options = this.createGoogleChartOptions();\n        this.gChart.draw(this.gChartView, options);\n        google.visualization.events.addListener(this.gChart, 'select', this.onChartSelect.bind(this));\n    }\n    onChartSelect() {\n        const selectedItem = this.gChart.getSelection()[0];\n        if (selectedItem) {\n            const event = {};\n            if (selectedItem.date) {\n                // calendar chart\n                event.datetime = selectedItem.date;\n                if (selectedItem.row || selectedItem.row == 0) {\n                    const rowIndex = this.gChartView.getTableRowIndex(selectedItem.row);\n                    event.row = this.data.rows[rowIndex];\n                }\n                else {\n                    return;\n                }\n            }\n            else {\n                // any other chart\n                const rowIndex = selectedItem.row;\n                const colIndex = selectedItem.column;\n                const originalRowIndex = this.gChartView.getTableRowIndex(rowIndex != null ? rowIndex : 0);\n                event.row = this.data.rows[originalRowIndex];\n                if (this.series.length > 1) {\n                    let originalColIndex = this.gChartView.getTableColumnIndex(colIndex != null ? colIndex : 0);\n                    // checking if col is annotation\n                    if ('annotation' ===\n                        this.gChartDataTable.getColumnProperty(originalColIndex, 'role')) {\n                        --originalColIndex;\n                    }\n                    event.column = getColumnByName$1(this.data.columns, this.series[originalColIndex - 1]);\n                }\n                else {\n                    event.column = getColumnByName$1(this.data.columns, this.series[0]);\n                }\n            }\n            this.kupChartClicked.emit(event);\n        }\n    }\n    render() {\n        return h(\"div\", { id: \"chart\", ref: (el) => (this.chartContainer = el) });\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"data\": [\"onDataChanged\"]\n    }; }\n}\n\nexport { KupChart as kup_chart };\n"],"sourceRoot":"webpack:///"}