function t(t,r){for(var i=0;i<r.length;i++){var e=r[i];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(t,e.key,e)}}function r(r,i,e){if(i)t(r.prototype,i);if(e)t(r,e);return r}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"3GFf":function t(i,e,s){"use strict";s.r(e),s.d(e,"kup_graphic_cell",function(){return c});var a=s("zp0o");function n(t){var r=t.indexOf("R"),i=t.indexOf("G"),e=t.indexOf("B");if(r<0||i<0||e<0)return;var s=t.substring(r+1,r+4),a=t.substring(i+1,i+4),n=t.substring(e+1,e+4);try{return new o(parseInt(s),parseInt(a),parseInt(n))}catch(h){console.error(h)}return null}var h=function(){function t(){this.width=100,this.height=100,this.color=null,this.shape="bar"}var r=t.prototype;r.init=function t(r){var i=this;r.forEach(function(t){t.toUpperCase().startsWith("HEIGHT;")?i.initHeight(t):t.toUpperCase().startsWith("SHAPE;")?i.initShape(t):t.toUpperCase().startsWith("BCOLOR;")||i.initColor(t)})};r.initColor=function t(r){if(r.length>11&&this.isValidColor(r)){this.color=n(r.substring(0,12));try{this.width=parseFloat(r.substring(13).replace(",","."))}catch(i){console.error(i)}}else if(r.startsWith("*NONE"))try{this.width=parseFloat(r.substring(6).replace(",","."))}catch(i){console.error(i)}};r.isTrasparent=function t(){return null===this.color};r.initHeight=function t(r){if(r){var i=r.substring("HEIGHT;".length).replace(",",".");try{this.height=parseFloat(i)}catch(e){console.error(e)}}};r.initShape=function t(r){var i=(r=r.substring("SHAPE;".length)).indexOf(";");var e=r;if(i>-1){e=r.substring(0,i);try{this.width=parseFloat(r.substring(i+1).replace(",","."))}catch(s){console.error(s)}}switch(e.toLocaleLowerCase()){case"circle":this.shape="circle";break;case"tril":this.shape="tril";break;case"trir":this.shape="trir"}};r.isValidColor=function t(r){if(!r)return!1;var i=[];var e=!1,s=null,a=(r=r.trim()).indexOf("R");if(a>-1&&(s=r.substring(a+1,a+4),i[0]=parseInt(s),isNaN(i[0])&&(e=!0)),(a=r.indexOf("G"))>-1&&(s=r.substring(a+1,a+4),i[1]=parseInt(s),isNaN(i[1])&&(e=!0)),(a=r.indexOf("B"))>-1&&(s=r.substring(a+1,a+4),i[2]=parseInt(s),isNaN(i[2])&&(e=!0)),e){var n=r.indexOf("R"),h=r.indexOf("G"),o=r.indexOf("B");if(s=r.substring(n+1,h),i[0]=parseInt(s),isNaN(i[0])&&(e=!0),s=r.substring(h+1,o),i[1]=parseInt(s),isNaN(i[1])&&(e=!0),s=r.substring(o+1),i[2]=parseInt(s),isNaN(i[2])&&(e=!0),e)return!1}return!(i[0]<0||i[0]>255||i[1]<0||i[1]>255||i[2]<0||i[2]>255)};r.getHeight=function t(){return this.height};r.getWidth=function t(){return this.width};r.getShape=function t(){return this.shape};r.getColor=function t(){return this.color};return t}();var o=function(){function t(t,r,i){this.r=t,this.g=r,this.b=i}var r=t.prototype;r.toString=function t(){return"rgb("+this.r+","+this.g+","+this.b+")"};return t}();var c=function(){function t(t){Object(a.g)(this,t),this.height=30,this.width=300,this.graphic_element_marker_splitter="\\\\",this.graphic_element_splitter="\\\\AND\\\\",this.background_color="BCOLOR;R255G000B000",this.default_color=new o(0,0,0)}var i=t.prototype;i.onValueChange=function t(){this.draw()};i.componentDidLoad=function t(){this.draw()};i.draw=function t(){this.value&&this.canvas.getContext&&(this.ctx=this.canvas.getContext("2d"),this.drawGraphicCell())};i.drawGraphicCell=function t(){var r=this;this.value.split(this.graphic_element_splitter).forEach(function(t,i){var e="SHAPE;BAR",s=r.background_color,a="HEIGHT;100";var o=t.split(r.graphic_element_marker_splitter),c=[],l=[];o.forEach(function(t){r.isShapeMarker(t)?e=t:r.isBgColorMarker(t)?s=t:r.isHeightMarker(t)?a=t:r.isDecoratorMarker(t)?l.push(t):c.push(t)});var u=c.map(function(t){var r=new h;return r.init([e,s,a,t]),r});if(0===i&&s!==r.background_color){var g=n(s.substring("BCOLOR;".length));r.drawRect(0,0,r.canvas.width,r.canvas.height,g)}var f=0;u.forEach(function(t){switch(t.getShape()){case"circle":f=r.getNewStarXFromCircle(f,t);break;case"tril":f=r.getNewStarXFromTril(f,t);break;case"trir":f=r.getNewStarXFromTrir(f,t);break;default:f=r.getNewStarXFromBar(f,t)}}),l.forEach(function(t){t.startsWith("SEP")||t.startsWith("DIV")?r.drawSeparator(t):t.startsWith("ARW")?r.drawArrow(t):t.startsWith("GRID")&&r.drawGrid(t)})})};i.isShapeMarker=function t(r){return r&&r.toUpperCase().startsWith("SHAPE;")};i.isBgColorMarker=function t(r){return r&&r.toUpperCase().startsWith("BCOLOR;")};i.isHeightMarker=function t(r){return r&&r.toUpperCase().startsWith("HEIGHT;")};i.isDecoratorMarker=function t(r){return r&&(r.toUpperCase().startsWith("SEP;")||r.toUpperCase().startsWith("DIV;")||r.toUpperCase().startsWith("ARW;")||r.toUpperCase().startsWith("GRID;"))};i.getDim=function t(r,i){return Math.floor(r/100*i)};i.getNewStarXFromBar=function t(r,i){var e=this.getDim(this.canvas.width,i.getWidth()),s=this.getDim(this.canvas.height,i.getHeight()),a=this.canvas.height-s;return i.isTrasparent()||this.drawRect(r,a,e,s,i.getColor()),e};i.getNewStarXFromCircle=function t(r,i){var e=this.getDim(this.canvas.width,i.getWidth()),s=(r+e)/2;return i.isTrasparent()||this.drawArc(s,this.canvas.height/2,i.getColor()),e};i.getNewStarXFromTril=function t(r,i){var e=this.getDim(this.canvas.width,i.getWidth());return i.isTrasparent()||this.drawTri(e,0,r,this.canvas.height/2,i.getColor()),e};i.getNewStarXFromTrir=function t(r,i){var e=this.getDim(this.canvas.width,i.getWidth());return i.isTrasparent()||this.drawTri(r,0,e,this.canvas.height/2,i.getColor()),e};i.drawArc=function t(r,i,e){this.ctx.fillStyle=e.toString(),this.ctx.beginPath(),this.ctx.arc(r,i,i,0,2*Math.PI,!0),this.ctx.fill()};i.drawRect=function t(r,i,e,s,a){this.ctx.fillStyle=a.toString(),this.ctx.fillRect(r,i,e,s)};i.drawTri=function t(r,i,e,s,a){this.ctx.fillStyle=a.toString(),this.ctx.beginPath(),this.ctx.moveTo(r,i),this.ctx.lineTo(e,s),this.ctx.lineTo(r,this.canvas.height),this.ctx.fill()};i.drawArrow=function t(r){var i=r.substring("ARW;".length);i.indexOf(",")>-1&&(i=i.replace(",",".")),this.ctx.fillStyle=this.default_color.toString();var e=this.getDim(this.canvas.width,parseFloat(i)),s=this.canvas.height,a=Math.floor(s/3),n=a/2;this.ctx.beginPath(),this.ctx.moveTo(e,0),this.ctx.lineTo(e-a,s/2),this.ctx.lineTo(e-n,s/2),this.ctx.lineTo(e-n,s),this.ctx.lineTo(e+n,s),this.ctx.lineTo(e+n,s/2),this.ctx.lineTo(e+a,s/2),this.ctx.fill()};i.drawGrid=function t(r){var i=r.substring("GRID;".length);i.indexOf(",")>-1&&(i=i.replace(",","."));var e=parseInt(i),s=this.canvas.width/e,a=this.canvas.height/5,n=this.canvas.height-a;for(var h=s;h<this.canvas.width;h+=s){this.drawRect(h,n,1,a,this.default_color)}};i.drawSeparator=function t(r){var i=r.substring("SEP;".length).split(";");var e="R000G000B000",s=2,a=i[0];i.length>1&&(e=i[1]),i.length>2&&(s=parseInt(i[2])),a.indexOf(",")>-1&&(a=a.replace(",","."));var h=this.getDim(this.canvas.width,parseFloat(a));this.drawRect(h,0,s,this.canvas.height,n(e))};i.render=function t(){var r=this;return Object(a.f)("canvas",{ref:function t(i){return r.canvas=i},height:this.height,width:this.width},this.value)};r(t,null,[{key:"watchers",get:function t(){return{value:["onValueChange"]}}}]);return t}()}}]);