(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1gxT":function t(e,i,o){"use strict";o.r(i),o.d(i,"kup_chip",function(){return n});var a=o("ESiV"),n=function(){function t(t){Object(a.e)(this,t),this.closable=!1,this.disabled=!1,this.close=Object(a.b)(this,"close",7)}return t.prototype.onCloseClicked=function(){this.disabled||this.close.emit()},t.prototype.render=function(){var t=this,e=null;this.closable&&(e=Object(a.d)("svg",{version:"1.1",width:"16",height:"16",viewBox:"0 0 24 24","aria-hidden":"false",onClick:function e(){return t.onCloseClicked()}},Object(a.d)("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})));var i={disabled:this.disabled};return Object(a.d)("span",{id:"chip",class:i,tabindex:"0","aria-disabled":this.disabled?"true":"false"},Object(a.d)("span",{id:"content"},Object(a.d)("slot",null),e))},Object.defineProperty(t,"style",{get:function t(){return"#chip{background:#e0e0e0;color:#545454;margin:4px;padding:4px;border-radius:10px;outline:none}#chip,#chip #content{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;vertical-align:middle}#chip #content{height:25px;margin:0 3px;-ms-flex-pack:justify;justify-content:space-between;cursor:default}#chip #content svg{cursor:pointer;fill:#545454;margin-left:2px}#chip.disabled{background:#f5f5f5}#chip.disabled #content svg{cursor:default}"},enumerable:!0,configurable:!0}),t}()},"3U+T":function t(e,i,o){"use strict";o.r(i),o.d(i,"kup_chart",function(){return c});var a,n,r=o("ESiV"),s=(o("5/Pv"),o("v63p"));function l(t,e){for(var i=0;i<e.length;i++){var o=e[i];if(t===o.name)return o}return null}!function(t){t.Area="Area",t.Bubble="Bubble",t.Cal="Cal",t.Candlestick="Candlestick",t.Combo="Combo",t.Geo="Geo",t.Hbar="Hbar",t.Line="Line",t.Ohlc="Ohlc",t.Pie="Pie",t.Sankey="Sankey",t.Scatter="Scatter",t.Unk="Unk",t.Vbar="Vbar"}(a||(a={})),function(t){t.D2="2D",t.D3="3D"}(n||(n={}));var c=function(){function t(t){Object(r.e)(this,t),this.types=[a.Hbar],this.colors=[],this.legend=!0,this.stacked=!1,this.showMarks=!1,this.version="45.2",this.kupChartClicked=Object(r.b)(this,"kupChartClicked",6)}return t.prototype.onDataChanged=function(){console.log("changing data")},t.prototype.componentDidLoad=function(){var t=this;if(this.axis&&this.series&&google){document.querySelectorAll('link[href^="https://www.gstatic.com/charts/'+this.version+'/css"]').forEach(function(e){return t.el.shadowRoot.appendChild(e.cloneNode())});try{this.loadGoogleChart()}catch(e){console.error(e)}}},t.prototype.componentWillUpdate=function(){this.gChart&&this.gChart.clearChart()},t.prototype.componentDidUpdate=function(){this.loadGoogleChart()},t.prototype.loadGoogleChart=function(){google.charts.setOnLoadCallback(this.createChart.bind(this))},t.prototype.createGoogleChart=function(){if(this.isComboChart())return new google.visualization.ComboChart(this.chartContainer);if(1===this.types.length)switch(this.types[0]){case a.Area:return new google.visualization.AreaChart(this.chartContainer);case a.Bubble:return new google.visualization.BubbleChart(this.chartContainer);case a.Cal:return new google.visualization.Calendar(this.chartContainer);case a.Candlestick:return new google.visualization.CandlestickChart(this.chartContainer);case a.Geo:return new google.visualization.GeoChart(this.chartContainer);case a.Hbar:return new google.visualization.BarChart(this.chartContainer);case a.Line:return new google.visualization.LineChart(this.chartContainer);case a.Pie:return new google.visualization.PieChart(this.chartContainer);case a.Sankey:return new google.visualization.Sankey(this.chartContainer);case a.Scatter:return new google.visualization.ScatterChart(this.chartContainer);default:return new google.visualization.ColumnChart(this.chartContainer)}},t.prototype.getMainChartType=function(){return this.types.length>0?this.types[0]:a.Unk},t.prototype.isComboChart=function(){return this.types.length>1},t.prototype.createGoogleChartOptions=function(){var t={is3D:n.D3===this.asp};return this.colors&&this.colors.length>0&&(t.colors=this.colors),this.width&&(t.width=this.width),this.height&&(t.height=this.height),this.legend||(t.legend={position:"none"}),!this.stacked||a.Hbar!==this.getMainChartType()&&a.Vbar!==this.getMainChartType()||(t.isStacked=!0),this.graphTitle&&(t.title=this.graphTitle,t.titleTextStyle={},this.graphTitleColor&&(t.titleTextStyle.color=this.graphTitleColor),this.graphTitleSize&&(t.titleTextStyle.fontSize=this.graphTitleSize)),this.isComboChart()&&(t.series={},this.types.forEach(function(e,i){var o="bars";a.Line===e?o="line":a.Area===e&&(o="area"),t.series[i.toString()]={type:o}})),t},t.prototype.createChart=function(){for(var t=function(t,e){var i=e.series;if(!t||!i)return[];var o=[],a=l(e.axis,t.columns);return a&&o.push(a),i.map(function(e){var i=l(e,t.columns);i&&o.push(i)}),o}(this.data,{axis:this.axis,series:this.series}),e=function(t,e,i){if(!t)return[];var o=[];return t.rows&&t.rows.forEach(function(t){var a=t.cells,n=[];e.forEach(function(t,e){var o=a[t.name];if(o&&o.obj){var r=i&&e>0;if(Object(s.m)(o.obj)){var l=function(t){return t.obj?Object(s.r)(t.obj.k).value():Object(s.r)(t.value).value()}(o);n.push(l),r&&n.push(l.toString())}else Object(s.e)(o.obj)?(l=function(t){var e="YYYYMMDD";if(t.obj){var i=t.obj;return"D8"===i.t&&"*DMYY"===i.p&&(e="DDMMYYYY"),Object(s.q)(t.obj.k,e)}return Object(s.q)(t.value,"DD/MM/YYYY")}(o).toDate(),n.push(l),r&&n.push(l.toString())):(n.push(o.obj.k),r&&n.push(o.value))}}),o.push(n)}),o}(this.data,t,this.showMarks),i=[],o=0;o<t.length;o++){i.push({label:t[o].name}),o>0&&this.showMarks&&i.push({type:"string",role:"annotation"})}this.gChartDataTable=new google.visualization.arrayToDataTable([i].concat(e)),this.gChartView=new google.visualization.DataView(this.gChartDataTable),this.gChart=this.createGoogleChart();var a=this.createGoogleChartOptions();this.gChart.draw(this.gChartView,a),google.visualization.events.addListener(this.gChart,"select",this.onChartSelect.bind(this))},t.prototype.onChartSelect=function(){var t=this.gChart.getSelection()[0];if(t){var e={};if(t.date){if(e.datetime=t.date,!t.row&&0!=t.row)return;var i=this.gChartView.getTableRowIndex(t.row);e.row=this.data.rows[i]}else{var o=t.column,a=this.gChartView.getTableRowIndex(null!=(i=t.row)?i:0);if(e.row=this.data.rows[a],this.series.length>1){var n=this.gChartView.getTableColumnIndex(null!=o?o:0);"annotation"===this.gChartDataTable.getColumnProperty(n,"role")&&--n,e.column=Object(s.k)(this.data.columns,this.series[n-1])}else e.column=Object(s.k)(this.data.columns,this.series[0])}this.kupChartClicked.emit(e)}},t.prototype.render=function(){var t=this;return Object(r.d)("div",{id:"chart",ref:function e(i){return t.chartContainer=i}})},Object.defineProperty(t.prototype,"el",{get:function t(){return Object(r.c)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"watchers",{get:function t(){return{data:["onDataChanged"]}},enumerable:!0,configurable:!0}),t}()},"8+Ya":function t(e,i,o){"use strict";o.r(i),o.d(i,"kup_image",function(){return n}),o.d(i,"kup_progress_bar",function(){return r});var a=o("ESiV"),n=function(){function t(t){Object(a.e)(this,t),this.src="",this.alt="",this.width=64,this.height=64}return t.prototype.render=function(){var t=null;this.badges&&(t=this.badges.map(function(t){return Object(a.d)("kup-badge",{text:t.text,position:t.position,icon:t.icon})}));var e={width:this.width+"px",height:this.height+"px"};return Object(a.d)("div",{id:"image-wrapper",style:e},Object(a.d)("img",{src:this.src,alt:this.alt}),t)},Object.defineProperty(t,"style",{get:function t(){return"@import url(https://cdn.materialdesignicons.com/3.6.95/css/materialdesignicons.min.css);*{-webkit-box-sizing:border-box;box-sizing:border-box}#image-wrapper{position:relative;display:inline-block}#image-wrapper img{width:100%;height:100%}"},enumerable:!0,configurable:!0}),t}(),r=function(){function t(t){Object(a.e)(this,t),this.value=0,this.hideLabel=!1}return t.prototype.render=function(){var t={width:this.value+"%"},e=null;return this.hideLabel||(e=this.labelText?this.labelText:this.value+"%"),Object(a.d)("div",{id:"progress-bar"},Object(a.d)("div",{id:"progress-bar-percentage",style:t},Object(a.d)("span",null,e)))},Object.defineProperty(t,"style",{get:function t(){return":host{--pgb_background-color:var(--kup-pb_background-color,#ccc);--pgb_foreground-color:var(--kup-pb_foreground-color,#3063a5);--pgb_text-color:var(--kup-pb_text-color,#fff)}#progress-bar{width:100%;background:var(--pgb_background-color);position:relative;border-radius:5px}#progress-bar #progress-bar-percentage{background:var(--pgb_foreground-color);padding:5px 0;color:#fff;text-align:center;height:18px;border-radius:5px}#progress-bar #progress-bar-percentage span{display:inline-block;position:absolute;width:100%;left:0;line-height:18px;font-size:12px}"},enumerable:!0,configurable:!0}),t}()},Jz2w:function t(e,i,o){"use strict";o.r(i),o.d(i,"kup_badge",function(){return r});var a,n=o("ESiV");!function(t){t.TOP_LEFT="TL",t.TOP_RIGHT="TR",t.BOTTOM_RIGHT="BR",t.BOTTOM_LEFT="BL"}(a||(a={}));var r=function(){function t(t){Object(n.e)(this,t),this.position=a.TOP_RIGHT}return t.prototype.render=function(){var t=this.text||"",e=a.TOP_RIGHT===this.position,i=a.BOTTOM_RIGHT===this.position,o=a.BOTTOM_LEFT===this.position,r={"top-left":!e&&!i&&!o,"top-right":e,"bottom-right":i,"bottom-left":o},s={};return!t&&this.icon&&(s[this.icon]=!0),Object(n.d)(n.a,{class:r},Object(n.d)("div",{id:"badge",class:s},t))},Object.defineProperty(t,"style",{get:function t(){return"@import url(https://cdn.materialdesignicons.com/3.6.95/css/materialdesignicons.min.css);:host{--bdg_background-color:var(--kup-badge_background-color,#95a5a6);--bdg_color:var(--kup-badge_color,#fff);--bdg_dim:var(--kup-badge_dimension,20px);position:absolute;max-width:70%}:host #badge{background-color:var(--bdg_background-color);color:var(--bdg_color);padding:0 3px;font-size:11px;border-radius:3px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}:host(.top-right){top:-3px;right:-4px}:host(.top-left){top:-3px;left:-4px}:host(.bottom-right){bottom:-3px;right:-4px}:host(.bottom-left){bottom:-3px;left:-4px}:host(.centered) #badge{-webkit-box-sizing:border-box;box-sizing:border-box;min-width:var(--bdg_dim);height:var(--bdg_dim);border-radius:calc(var(--bdg_dim) / 2)}:host(.centered.top-right){top:-10px;right:-10px}:host(.centered.top-left){top:-10px;left:-10px}:host(.centered.bottom-right){bottom:-10px;right:-10px}:host(.centered.bottom-left){bottom:-10px;left:-10px}"},enumerable:!0,configurable:!0}),t}()},"RoQ+":function t(e,i,o){"use strict";var a;o.d(i,"a",function(){return a}),function(t){t.SIMPLE="simple",t.FULL="full"}(a||(a={}))},Xhbl:function t(e,i,o){"use strict";o.r(i),o.d(i,"kup_dash",function(){return n});var a=o("ESiV"),n=function(){function t(t){Object(a.e)(this,t),this.layout="1",this.fontsize="",this.ketchupDashClicked=Object(a.b)(this,"ketchupDashClicked",7)}return t.prototype.onDshClickedHandler=function(){this.ketchupDashClicked.emit()},t.prototype.render=function(){var t=this,e=null;switch(this.layout){case"2":e=Object(a.d)("div",null,Object(a.d)("div",{class:"icon"},Object(a.d)("slot",{name:"icon"})),Object(a.d)("div",{class:"value-int"},Object(a.d)("slot",{name:"value-int"})),Object(a.d)("div",{class:"value-dec"},Object(a.d)("slot",{name:"value-dec"})),Object(a.d)("div",{class:"unit"},Object(a.d)("slot",{name:"unit"})));break;case"3":e=Object(a.d)("div",null,Object(a.d)("div",{class:"value"},Object(a.d)("slot",{name:"value"})),Object(a.d)("div",{class:"descr"},Object(a.d)("slot",{name:"descr"})));break;case"4":e=Object(a.d)("div",null,Object(a.d)("div",{class:"icon"},Object(a.d)("slot",{name:"icon"})),Object(a.d)("div",{class:"value-and-unit"},Object(a.d)("div",{class:"value-int"},Object(a.d)("slot",{name:"value-int"})),Object(a.d)("div",{class:"value-dec"},Object(a.d)("slot",{name:"value-dec"})),Object(a.d)("div",{class:"unit"},Object(a.d)("slot",{name:"unit"}))),Object(a.d)("div",null),Object(a.d)("div",{class:"descr"},Object(a.d)("slot",{name:"descr"})));break;case"5":e=Object(a.d)("div",null,Object(a.d)("div",null,Object(a.d)("div",{class:"descr"},Object(a.d)("slot",{name:"descr"})),Object(a.d)("div",{class:"value"},Object(a.d)("slot",{name:"value"}))),Object(a.d)("div",{class:"icon"},Object(a.d)("slot",{name:"icon"})));break;case"6":e=Object(a.d)("div",null,Object(a.d)("div",{class:"icon"},Object(a.d)("slot",{name:"icon"})),Object(a.d)("div",null,Object(a.d)("div",{class:"value"},Object(a.d)("slot",{name:"value"})),Object(a.d)("div",{class:"descr"},Object(a.d)("slot",{name:"descr"}))));break;case"7":e=Object(a.d)("div",null,Object(a.d)("div",null,Object(a.d)("div",{class:"value"},Object(a.d)("slot",{name:"value"})),Object(a.d)("div",{class:"descr"},Object(a.d)("slot",{name:"descr"}))),Object(a.d)("div",{class:"icon"},Object(a.d)("slot",{name:"icon"})));break;case"8":e=Object(a.d)("div",null,Object(a.d)("div",{class:"icon"},Object(a.d)("slot",{name:"icon"})),Object(a.d)("div",{class:"value"},Object(a.d)("slot",{name:"value"})),Object(a.d)("div",{class:"descr"},Object(a.d)("slot",{name:"descr"})));break;default:e=Object(a.d)("div",null,Object(a.d)("div",{class:"descr"},Object(a.d)("slot",{name:"descr"})),Object(a.d)("div",{class:"value"},Object(a.d)("slot",{name:"value"})))}var i={fontSize:this.fontsize};return Object(a.d)("div",{id:"dash",style:i,onClick:function e(){return t.onDshClickedHandler()}},Object(a.d)("div",{id:"content",class:"layout-"+this.layout},e))},Object.defineProperty(t,"style",{get:function t(){return":host{--dash_bkg-color:var(--kup-dash_background-color,transparent);--dash_color:var(--kup-dash_color,#111);--dash_border-color:var(--kup-dash_border-color,transparent)}#dash{background-color:var(--dash_bkg-color);border:1px solid var(--dash_border-color);color:var(--dash_color);font-size:2vw;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;text-align:center;position:relative;word-break:normal}#dash #content .icon{margin:auto;font-size:90%}#dash #content.layout-1,#dash #content.layout-3{text-align:center}#dash #content.layout-1 .descr,#dash #content.layout-3 .descr{font-size:70%;width:100%}#dash #content.layout-1 .value,#dash #content.layout-3 .value{font-size:220%;padding:2% 0}#dash #content.layout-2>div{display:-ms-flexbox;display:flex}#dash #content.layout-2>div .icon{margin:auto;font-size:150%;margin-right:5%}#dash #content.layout-2>div .value-int{font-size:250%}#dash #content.layout-2>div .unit,#dash #content.layout-2>div .value-dec{font-size:130%;margin-top:auto;margin-bottom:4%}#dash #content.layout-2>div .unit{margin-left:4%}#dash #content.layout-4>div{display:grid;grid-template-columns:2fr 5fr}#dash #content.layout-4>div .icon{margin:auto;font-size:150%;margin-right:5%}#dash #content.layout-4>div .value-and-unit{display:-ms-flexbox;display:flex}#dash #content.layout-4>div .value-and-unit .value-int{font-size:250%}#dash #content.layout-4>div .value-and-unit .unit,#dash #content.layout-4>div .value-and-unit .value-dec{font-size:130%;margin-top:auto;margin-bottom:4%}#dash #content.layout-4>div .value-and-unit .unit{margin-left:4%}#dash #content.layout-4>div .descr{margin-left:4%;text-align:left;font-size:80%;width:100%;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content}#dash #content.layout-5>div,#dash #content.layout-7>div{display:-ms-flexbox;display:flex}#dash #content.layout-5>div .icon,#dash #content.layout-7>div .icon{font-size:150%;margin:auto;margin-left:10%}#dash #content.layout-5>div .value,#dash #content.layout-7>div .value{font-size:200%}#dash #content.layout-5>div .descr,#dash #content.layout-7>div .descr{text-align:right;font-size:65%;width:100%;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content}#dash #content.layout-6>div{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}#dash #content.layout-6>div .icon{font-size:150%;margin-right:10%}#dash #content.layout-6>div .value{font-size:220%;text-align:right}#dash #content.layout-6>div .descr{font-size:80%;text-align:right;width:100%;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content}#dash #content.layout-8>div{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#dash #content.layout-8>div .icon{margin-right:4%;font-size:75%}#dash #content.layout-8>div .value{margin-right:4%;font-size:250%}#dash #content.layout-8>div .descr{font-size:60%;text-align:left;word-spacing:10000px}"},enumerable:!0,configurable:!0}),t}()},eosC:function t(e,i,o){"use strict";o.r(i),o.d(i,"kup_paginator",function(){return r});var a=o("ESiV"),n=o("J5MO"),r=function(){function t(t){Object(a.e)(this,t),this.max=0,this.perPage=10,this.selectedPerPage=10,this.currentPage=1,this.mode=n.a.FULL,this.kupPageChanged=Object(a.b)(this,"kupPageChanged",6),this.kupRowsPerPageChanged=Object(a.b)(this,"kupRowsPerPageChanged",6)}return t.prototype.isPrevPageDisabled=function(){return 1==this.currentPage},t.prototype.isNextPageDisabled=function(){return this.currentPage*this.perPage>=this.max},t.prototype.onPageChange=function(t){t.stopPropagation(),t.detail.value&&this.kupPageChanged.emit({newPage:t.detail.value.id})},t.prototype.onPrevPage=function(){this.isPrevPageDisabled()||this.kupPageChanged.emit({newPage:this.currentPage-1})},t.prototype.onNextPage=function(){this.isNextPageDisabled()||this.kupPageChanged.emit({newPage:this.currentPage+1})},t.prototype.onRowsPerPage=function(t){t.stopPropagation(),t.detail.value&&this.kupRowsPerPageChanged.emit({newRowsPerPage:t.detail.value.id})},t.prototype.getGoToPageItems=function(t){for(var e=[],i=1;i<=t;i++){var o={};o.id=i,e.push(o)}return e},t.prototype.getRowsPerPageItems=function(){var t=[];if(this.currentPage!==this.max){var e=this.perPage;if(0===e)return t;for(;e<this.max;){t.push({id:e}),e*=2}t.push({id:this.max})}else t.push({id:this.perPage});return t},t.prototype.render=function(){var t=this,e="mdi mdi-chevron-left";this.isPrevPageDisabled()&&(e+=" disabled");var i="mdi mdi-chevron-right";this.isNextPageDisabled()&&(i+=" disabled");var o=Math.ceil(this.max/this.selectedPerPage),n=this.getGoToPageItems(o),r=this.getRowsPerPageItems();return Object(a.d)("div",{id:"paginator"},Object(a.d)("div",{class:"align-left"},"Pagina",Object(a.d)("span",{class:"prev-page"},Object(a.d)("icon",{className:e,onclick:function e(){return t.onPrevPage()}})),Object(a.d)("kup-combo",{items:n,isFilterable:!1,initialValue:{id:this.currentPage},onKetchupComboSelected:function e(i){return t.onPageChange(i)}}),Object(a.d)("span",{class:"next-page"},Object(a.d)("icon",{className:i,onclick:function e(){return t.onNextPage()}})),Object(a.d)("span",{class:"number-of-pages"},"di ",o)),Object(a.d)("div",{class:"align-right"},Object(a.d)("span",{class:"nextPageGroup"},"Numero risultati: ",this.max),Object(a.d)("slot",{name:"more-results"}),"Mostra",Object(a.d)("kup-combo",{items:r,isFilterable:!1,initialValue:{id:this.perPage},onKetchupComboSelected:function e(i){return t.onRowsPerPage(i)}}),"righe per pagina"))},Object.defineProperty(t,"style",{get:function t(){return"@import url(https://cdn.materialdesignicons.com/3.6.95/css/materialdesignicons.min.css);:host{--int_text-color:var(--kup-paginator_text-color,#545454);--int_font-size:var(--kup-paginator_font-size,1rem)}#paginator{color:var(--int_text-color);margin:.5rem 0;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:justify;justify-content:space-between;font-size:var(--int_font-size)}#paginator icon{cursor:pointer;opacity:1;-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out}#paginator icon:hover:not(.disabled){opacity:.75}#paginator icon.disabled{cursor:default;opacity:.3}#paginator .nextPageGroup,#paginator select{margin:0 .5rem}#paginator .next-page,#paginator .prev-page{margin:0 .25rem}#paginator .nextPageGroup{padding-right:1.5rem}#paginator .number-of-pages{color:#bdbdbd}#paginator kup-combo{margin:0 .25rem}:host([mode=simple]) #paginator .align-left .next-page,:host([mode=simple]) #paginator .align-left .prev-page,:host([mode=simple]) #paginator .align-right{display:none}"},enumerable:!0,configurable:!0}),t}()},f9IZ:function t(e,i,o){"use strict";o.r(i),o.d(i,"kup_tooltip",function(){return n});var a=o("ESiV"),n=function(){function t(t){Object(a.e)(this,t),this.layout="1",this.visible=!1,this.detailVisible=!1,this.tooltipPosition={},this.kupTooltipLoadDetailTriggered=!1,this.kupTooltipLoadDetail=Object(a.b)(this,"kupTooltipLoadDetail",6)}return t.prototype.onDataChanged=function(){this.detailVisible=!0},t.prototype.hasData=function(){return!!this.detailData&&!!this.detailData.rows},t.prototype.resetTimeouts=function(){this.tooltipTimeout&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=null),this.loadDetailTimeout&&(clearTimeout(this.loadDetailTimeout),this.loadDetailTimeout=null)},t.prototype.loadDetail=function(){this.loadDetailTimeout=null,this.kupTooltipLoadDetail.emit(),this.kupTooltipLoadDetailTriggered=!0},Object.defineProperty(t.prototype,"rows",{get:function t(){return this.hasData()?this.detailData.rows:[]},enumerable:!0,configurable:!0}),t.prototype.onMouseOver=function(){var t=this;this.tooltipTimeout||(this.tooltipTimeout=setTimeout(function(){t.tooltipTimeout=null,t.tooltipPosition={};var e=t.wrapperEl.getBoundingClientRect();window.innerHeight-e.bottom<150?t.tooltipPosition.bottom=e.height+3+"px":t.tooltipPosition.top=e.height+"px",window.innerWidth-e.left<350?t.tooltipPosition.right="0":t.tooltipPosition.left="0",t.visible=!0,t.loadDetailTimeout=t.kupTooltipLoadDetailTriggered?setTimeout(function(){return t.detailVisible=!0},250):setTimeout(function(){return t.loadDetail()},250)},500))},t.prototype.onMouseLeave=function(){this.resetTimeouts(),this.visible=!1,this.detailVisible=!1},t.prototype.getDefaultLayout=function(){return[Object(a.d)("div",{class:"left"},Object(a.d)("slot",{name:"slot1"})),Object(a.d)("div",{class:"right"},Object(a.d)("div",null,Object(a.d)("slot",{name:"slot2"})),Object(a.d)("div",{class:"slot3"},Object(a.d)("slot",{name:"slot3"})),Object(a.d)("div",null,Object(a.d)("slot",{name:"slot4"})))]},t.prototype.getLayout2=function(){return Object(a.d)("div",null,Object(a.d)("slot",{name:"slot1"}))},t.prototype.getLayout3=function(){return[Object(a.d)("div",{class:"slot1"},Object(a.d)("slot",{name:"slot1"})),Object(a.d)("div",{class:"slot2"},Object(a.d)("slot",{name:"slot2"})),Object(a.d)("div",{class:"slot3"},Object(a.d)("slot",{name:"slot3"}))]},t.prototype.createTooltip=function(){var t=null,e={};"2"===this.layout?(t=this.getLayout2(),e.layout2=!0):"3"===this.layout?(t=this.getLayout3(),e.layout3=!0):t=this.getDefaultLayout();var i=null;this.hasData()&&(i=this.rows.map(function(t){return Object(a.d)("div",{class:"detail-row"},Object(a.d)("div",{class:"detail-row__label"},t.cells.label.value),Object(a.d)("div",{class:"detail-row__value"},t.cells.value.value))}));var o={visible:this.detailVisible&&this.hasData()},n=Object.assign({},this.tooltipPosition);return Object(a.d)("div",{id:"tooltip",hidden:!this.visible,style:n},Object(a.d)("div",{id:"main-content",class:e},t),Object(a.d)("div",{id:"detail",class:o},i))},t.prototype.render=function(){var t=this;return Object(a.d)("div",{id:"wrapper",onMouseOver:this.onMouseOver.bind(this),onMouseLeave:this.onMouseLeave.bind(this),ref:function e(i){return t.wrapperEl=i}},Object(a.d)("slot",null),this.createTooltip())},Object.defineProperty(t.prototype,"tooltipEl",{get:function t(){return Object(a.c)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"watchers",{get:function t(){return{detailData:["onDataChanged"]}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function t(){return":host{--tlt_background:var(--kup-tlt_background,#fff);--tlt_detail-lbl-color:var(--kup-detail-lbl-color,#888);--tlt_shadow:var(--kup-tlt_shadow,0px 0px 7.5px 0px hsla(0,0%,50.2%,0.5))}:host #wrapper{position:relative;display:inline-block}:host #wrapper #tooltip{position:absolute;background:var(--tlt_background);z-index:1000;-webkit-box-shadow:var(--tlt_shadow);box-shadow:var(--tlt_shadow);border-radius:3px;min-width:350px}:host #wrapper #tooltip #main-content{margin:20px;display:-ms-flexbox;display:flex}:host #wrapper #tooltip #main-content .left{width:75px;margin-right:15px}:host #wrapper #tooltip #main-content .right{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between}:host #wrapper #tooltip #main-content.layout2{-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}:host #wrapper #tooltip #main-content.layout3{-ms-flex-direction:column;flex-direction:column}:host #wrapper #tooltip #main-content.layout3>div:not(:last-child){margin-bottom:6px}:host #wrapper #tooltip #detail:not(.visible){max-height:0;opacity:0;-webkit-transition:max-height .5s ease-out,opacity .5s ease-out;transition:max-height .5s ease-out,opacity .5s ease-out}:host #wrapper #tooltip #detail.visible{border-top:1px solid #ccc;padding:20px;max-height:500px;opacity:1;-webkit-transition:max-height .5s ease-in,opacity .5s ease-in;transition:max-height .5s ease-in,opacity .5s ease-in}:host #wrapper #tooltip #detail .detail-row{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host #wrapper #tooltip #detail .detail-row:not(:last-child){margin-bottom:6px}:host #wrapper #tooltip #detail .detail-row__label{color:var(--tlt_detail-lbl-color)}"},enumerable:!0,configurable:!0}),t}()},h8AG:function t(e,i,o){"use strict";o.r(i),o.d(i,"kup_graphic_cell",function(){return l});var a=o("ESiV");function n(t){var e=t.indexOf("R"),i=t.indexOf("G"),o=t.indexOf("B");if(!(e<0||i<0||o<0)){var a=t.substring(e+1,e+4),n=t.substring(i+1,i+4),r=t.substring(o+1,o+4);try{return new s(parseInt(a),parseInt(n),parseInt(r))}catch(l){console.error(l)}return null}}var r=function(){function t(){this.width=100,this.height=100,this.color=null,this.shape="bar"}return t.prototype.init=function(t){var e=this;t.forEach(function(t){t.toUpperCase().startsWith("HEIGHT;")?e.initHeight(t):t.toUpperCase().startsWith("SHAPE;")?e.initShape(t):t.toUpperCase().startsWith("BCOLOR;")||e.initColor(t)})},t.prototype.initColor=function(t){if(t.length>11&&this.isValidColor(t)){this.color=n(t.substring(0,12));try{this.width=parseFloat(t.substring(13).replace(",","."))}catch(e){console.error(e)}}else if(t.startsWith("*NONE"))try{this.width=parseFloat(t.substring(6).replace(",","."))}catch(e){console.error(e)}},t.prototype.isTrasparent=function(){return null===this.color},t.prototype.initHeight=function(t){if(t){var e=t.substring("HEIGHT;".length).replace(",",".");try{this.height=parseFloat(e)}catch(i){console.error(i)}}},t.prototype.initShape=function(t){var e=(t=t.substring("SHAPE;".length)).indexOf(";"),i=t;if(e>-1){i=t.substring(0,e);try{this.width=parseFloat(t.substring(e+1).replace(",","."))}catch(o){console.error(o)}}switch(i.toLocaleLowerCase()){case"circle":this.shape="circle";break;case"tril":this.shape="tril";break;case"trir":this.shape="trir"}},t.prototype.isValidColor=function(t){if(!t)return!1;var e=[],i=!1,o=null,a=(t=t.trim()).indexOf("R");if(a>-1&&(o=t.substring(a+1,a+4),e[0]=parseInt(o),isNaN(e[0])&&(i=!0)),(a=t.indexOf("G"))>-1&&(o=t.substring(a+1,a+4),e[1]=parseInt(o),isNaN(e[1])&&(i=!0)),(a=t.indexOf("B"))>-1&&(o=t.substring(a+1,a+4),e[2]=parseInt(o),isNaN(e[2])&&(i=!0)),i){var n=t.indexOf("R"),r=t.indexOf("G"),s=t.indexOf("B");if(o=t.substring(n+1,r),e[0]=parseInt(o),isNaN(e[0])&&(i=!0),o=t.substring(r+1,s),e[1]=parseInt(o),isNaN(e[1])&&(i=!0),o=t.substring(s+1),e[2]=parseInt(o),isNaN(e[2])&&(i=!0),i)return!1}return!(e[0]<0||e[0]>255||e[1]<0||e[1]>255||e[2]<0||e[2]>255)},t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.getShape=function(){return this.shape},t.prototype.getColor=function(){return this.color},t}(),s=function(){function t(t,e,i){this.r=t,this.g=e,this.b=i}return t.prototype.toString=function(){return"rgb("+this.r+","+this.g+","+this.b+")"},t}(),l=function(){function t(t){Object(a.e)(this,t),this.height=30,this.width=300,this.graphic_element_marker_splitter="\\\\",this.graphic_element_splitter="\\\\AND\\\\",this.background_color="BCOLOR;R255G000B000",this.default_color=new s(0,0,0)}return t.prototype.onValueChange=function(){this.draw()},t.prototype.componentDidLoad=function(){this.draw()},t.prototype.draw=function(){this.value&&this.canvas.getContext&&(this.ctx=this.canvas.getContext("2d"),this.drawGraphicCell())},t.prototype.drawGraphicCell=function(){var t=this;this.value.split(this.graphic_element_splitter).forEach(function(e,i){var o="SHAPE;BAR",a=t.background_color,s="HEIGHT;100",l=e.split(t.graphic_element_marker_splitter),c=[],h=[];l.forEach(function(e){t.isShapeMarker(e)?o=e:t.isBgColorMarker(e)?a=e:t.isHeightMarker(e)?s=e:t.isDecoratorMarker(e)?h.push(e):c.push(e)});var d=c.map(function(t){var e=new r;return e.init([o,a,s,t]),e});if(0===i&&a!==t.background_color){var u=n(a.substring("BCOLOR;".length));t.drawRect(0,0,t.canvas.width,t.canvas.height,u)}var p=0;d.forEach(function(e){switch(e.getShape()){case"circle":p=t.getNewStarXFromCircle(p,e);break;case"tril":p=t.getNewStarXFromTril(p,e);break;case"trir":p=t.getNewStarXFromTrir(p,e);break;default:p=t.getNewStarXFromBar(p,e)}}),h.forEach(function(e){e.startsWith("SEP")||e.startsWith("DIV")?t.drawSeparator(e):e.startsWith("ARW")?t.drawArrow(e):e.startsWith("GRID")&&t.drawGrid(e)})})},t.prototype.isShapeMarker=function(t){return t&&t.toUpperCase().startsWith("SHAPE;")},t.prototype.isBgColorMarker=function(t){return t&&t.toUpperCase().startsWith("BCOLOR;")},t.prototype.isHeightMarker=function(t){return t&&t.toUpperCase().startsWith("HEIGHT;")},t.prototype.isDecoratorMarker=function(t){return t&&(t.toUpperCase().startsWith("SEP;")||t.toUpperCase().startsWith("DIV;")||t.toUpperCase().startsWith("ARW;")||t.toUpperCase().startsWith("GRID;"))},t.prototype.getDim=function(t,e){return Math.floor(t/100*e)},t.prototype.getNewStarXFromBar=function(t,e){var i=this.getDim(this.canvas.width,e.getWidth()),o=this.getDim(this.canvas.height,e.getHeight()),a=this.canvas.height-o;return e.isTrasparent()||this.drawRect(t,a,i,o,e.getColor()),i},t.prototype.getNewStarXFromCircle=function(t,e){var i=this.getDim(this.canvas.width,e.getWidth()),o=(t+i)/2;return e.isTrasparent()||this.drawArc(o,this.canvas.height/2,e.getColor()),i},t.prototype.getNewStarXFromTril=function(t,e){var i=this.getDim(this.canvas.width,e.getWidth());return e.isTrasparent()||this.drawTri(i,0,t,this.canvas.height/2,e.getColor()),i},t.prototype.getNewStarXFromTrir=function(t,e){var i=this.getDim(this.canvas.width,e.getWidth());return e.isTrasparent()||this.drawTri(t,0,i,this.canvas.height/2,e.getColor()),i},t.prototype.drawArc=function(t,e,i){this.ctx.fillStyle=i.toString(),this.ctx.beginPath(),this.ctx.arc(t,e,e,0,2*Math.PI,!0),this.ctx.fill()},t.prototype.drawRect=function(t,e,i,o,a){this.ctx.fillStyle=a.toString(),this.ctx.fillRect(t,e,i,o)},t.prototype.drawTri=function(t,e,i,o,a){this.ctx.fillStyle=a.toString(),this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,o),this.ctx.lineTo(t,this.canvas.height),this.ctx.fill()},t.prototype.drawArrow=function(t){var e=t.substring("ARW;".length);e.indexOf(",")>-1&&(e=e.replace(",",".")),this.ctx.fillStyle=this.default_color.toString();var i=this.getDim(this.canvas.width,parseFloat(e)),o=this.canvas.height,a=Math.floor(o/3),n=a/2;this.ctx.beginPath(),this.ctx.moveTo(i,0),this.ctx.lineTo(i-a,o/2),this.ctx.lineTo(i-n,o/2),this.ctx.lineTo(i-n,o),this.ctx.lineTo(i+n,o),this.ctx.lineTo(i+n,o/2),this.ctx.lineTo(i+a,o/2),this.ctx.fill()},t.prototype.drawGrid=function(t){var e=t.substring("GRID;".length);e.indexOf(",")>-1&&(e=e.replace(",","."));for(var i=parseInt(e),o=this.canvas.width/i,a=this.canvas.height/5,n=this.canvas.height-a,r=o;r<this.canvas.width;r+=o){this.drawRect(r,n,1,a,this.default_color)}},t.prototype.drawSeparator=function(t){var e=t.substring("SEP;".length).split(";"),i="R000G000B000",o=2,a=e[0];e.length>1&&(i=e[1]),e.length>2&&(o=parseInt(e[2])),a.indexOf(",")>-1&&(a=a.replace(",","."));var r=this.getDim(this.canvas.width,parseFloat(a));this.drawRect(r,0,o,this.canvas.height,n(i))},t.prototype.render=function(){var t=this;return Object(a.d)("canvas",{ref:function e(i){return t.canvas=i},height:this.height,width:this.width},this.value)},Object.defineProperty(t,"watchers",{get:function t(){return{value:["onValueChange"]}},enumerable:!0,configurable:!0}),t}()}}]);